<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据库设计 | 小说精品屋</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script crossorigin="anonymous" async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7927582798443371"></script>
    <script src="/redirect.js"></script>
    <meta name="description" content="小说精品屋项目开发文档,JAVA学习教程,JAVA开源项目,JAVA项目实战教程,手把手教你开发上线一个生产级别的小说系统">
    
    <link rel="preload" href="/assets/css/0.styles.f109e9b6.css" as="style"><link rel="preload" href="/assets/js/app.09e306c7.js" as="script"><link rel="preload" href="/assets/js/2.99247de7.js" as="script"><link rel="preload" href="/assets/js/13.c749534f.js" as="script"><link rel="prefetch" href="/assets/js/10.0074f0b6.js"><link rel="prefetch" href="/assets/js/11.a30c50a6.js"><link rel="prefetch" href="/assets/js/12.8b56d8ab.js"><link rel="prefetch" href="/assets/js/14.d3b12aa4.js"><link rel="prefetch" href="/assets/js/15.74294d9c.js"><link rel="prefetch" href="/assets/js/16.6da0ac7a.js"><link rel="prefetch" href="/assets/js/17.1ab88373.js"><link rel="prefetch" href="/assets/js/18.8875335c.js"><link rel="prefetch" href="/assets/js/19.4939c52f.js"><link rel="prefetch" href="/assets/js/20.34025d9d.js"><link rel="prefetch" href="/assets/js/21.7cce32ee.js"><link rel="prefetch" href="/assets/js/22.11440c86.js"><link rel="prefetch" href="/assets/js/23.e192cd17.js"><link rel="prefetch" href="/assets/js/24.45216f10.js"><link rel="prefetch" href="/assets/js/25.3be12542.js"><link rel="prefetch" href="/assets/js/26.4fbe7fce.js"><link rel="prefetch" href="/assets/js/27.ba19a09d.js"><link rel="prefetch" href="/assets/js/28.8fee7490.js"><link rel="prefetch" href="/assets/js/29.1393ab46.js"><link rel="prefetch" href="/assets/js/3.d1f014c5.js"><link rel="prefetch" href="/assets/js/30.d7fe8f4e.js"><link rel="prefetch" href="/assets/js/31.3e268b35.js"><link rel="prefetch" href="/assets/js/4.c866ff58.js"><link rel="prefetch" href="/assets/js/5.1dabba3b.js"><link rel="prefetch" href="/assets/js/6.2b9e04ea.js"><link rel="prefetch" href="/assets/js/7.da8e9de0.js"><link rel="prefetch" href="/assets/js/8.f14eb728.js"><link rel="prefetch" href="/assets/js/9.89a7523c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f109e9b6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="小说精品屋" class="logo"> <span class="site-name can-hide">小说精品屋</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="http://47.106.243.172:8888" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线演示
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://developer.aliyun.com/ebook/read/394" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发规约
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.xxyopen.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  技术博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Project Menu" class="dropdown-title"><span class="title">项目实战</span> <span class="arrow down"></span></button> <button type="button" aria-label="Project Menu" class="mobile-dropdown-title"><span class="title">项目实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/course/novel/" class="nav-link router-link-active">
  novel
</a></li><li class="dropdown-item"><!----> <a href="/course/novelcloud.html" class="nav-link">
  novel-cloud
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Log Menu" class="dropdown-title"><span class="title">更新日志</span> <span class="arrow down"></span></button> <button type="button" aria-label="Log Menu" class="mobile-dropdown-title"><span class="title">更新日志</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/log/novel.html" class="nav-link">
  novel
</a></li><li class="dropdown-item"><!----> <a href="/log/novelcloud.html" class="nav-link">
  novel-cloud
</a></li></ul></div></div><div class="nav-item"><a href="/suport/" class="nav-link">
  💖支持
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub Menu" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub Menu" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/201206030/novel" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/201206030/novel-plus" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/201206030/novel-cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Gitee Menu" class="dropdown-title"><span class="title">码云</span> <span class="arrow down"></span></button> <button type="button" aria-label="Gitee Menu" class="mobile-dropdown-title"><span class="title">码云</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/novel_dev_team/novel" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/novel_dev_team/novel-plus" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/novel_dev_team/novel-cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="http://47.106.243.172:8888" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线演示
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://developer.aliyun.com/ebook/read/394" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发规约
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.xxyopen.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  技术博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Project Menu" class="dropdown-title"><span class="title">项目实战</span> <span class="arrow down"></span></button> <button type="button" aria-label="Project Menu" class="mobile-dropdown-title"><span class="title">项目实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/course/novel/" class="nav-link router-link-active">
  novel
</a></li><li class="dropdown-item"><!----> <a href="/course/novelcloud.html" class="nav-link">
  novel-cloud
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Log Menu" class="dropdown-title"><span class="title">更新日志</span> <span class="arrow down"></span></button> <button type="button" aria-label="Log Menu" class="mobile-dropdown-title"><span class="title">更新日志</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/log/novel.html" class="nav-link">
  novel
</a></li><li class="dropdown-item"><!----> <a href="/log/novelcloud.html" class="nav-link">
  novel-cloud
</a></li></ul></div></div><div class="nav-item"><a href="/suport/" class="nav-link">
  💖支持
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub Menu" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub Menu" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/201206030/novel" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/201206030/novel-plus" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/201206030/novel-cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Gitee Menu" class="dropdown-title"><span class="title">码云</span> <span class="arrow down"></span></button> <button type="button" aria-label="Gitee Menu" class="mobile-dropdown-title"><span class="title">码云</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/novel_dev_team/novel" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/novel_dev_team/novel-plus" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/novel_dev_team/novel-cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/course/novel/" aria-current="page" class="sidebar-link">快速开始</a></li><li><a href="/course/novel/11.html" class="sidebar-link">公众号</a></li><li><a href="/course/novel/1.html" class="sidebar-link">技术架构</a></li><li><a href="/course/novel/2.html" class="sidebar-link">技术要点</a></li><li><a href="/course/novel/3.html" aria-current="page" class="active sidebar-link">数据库设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/course/novel/3.html#数据库设计规约" class="sidebar-link">数据库设计规约</a></li><li class="sidebar-sub-header"><a href="/course/novel/3.html#数据库建模工具" class="sidebar-link">数据库建模工具</a></li><li class="sidebar-sub-header"><a href="/course/novel/3.html#系统功能概要" class="sidebar-link">系统功能概要</a></li><li class="sidebar-sub-header"><a href="/course/novel/3.html#数据库关系图" class="sidebar-link">数据库关系图</a></li><li class="sidebar-sub-header"><a href="/course/novel/3.html#数据库表结构" class="sidebar-link">数据库表结构</a></li></ul></li><li><a href="/course/novel/4.html" class="sidebar-link">项目开发</a></li><li><a href="/course/novel/9.html" class="sidebar-link">项目优化</a></li><li><a href="/course/novel/6.html" class="sidebar-link">项目部署</a></li><li><a href="/course/novel/12.html" class="sidebar-link">更多</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="数据库设计"><a href="#数据库设计" class="header-anchor">#</a> 数据库设计</h1> <h2 id="数据库设计规约"><a href="#数据库设计规约" class="header-anchor">#</a> 数据库设计规约</h2> <ol><li>表达是与否概念的字段，必须使用 is_xxx 的方式命名，数据类型是 unsigned tinyint（ 1 表示是， 0 表示否）。</li></ol> <p>说明： 任何字段如果为非负数，必须是 unsigned，坚持 is_xxx 的命名方式是为了明确其取值含义与取值范围。</p> <p>正例： 表达逻辑删除的字段名 is_deleted， 1 表示删除， 0 表示未删除。</p> <ol start="2"><li>表名、字段名必须使用小写字母或数字， 禁止出现数字开头，禁止两个下划线中间只出现数字。数据库字段名的修改代价很大，字段名称需要慎重考虑。</li></ol> <p>说明： MySQL 在 Windows 下不区分大小写，但在 Linux 下默认是区分大小写。因此，数据库名、表名、字段名，都不允许出现任何大写字母，避免节外生枝。</p> <ol start="3"><li>表名不使用复数名词。</li></ol> <p>说明： 表名应该仅仅表示表里面的实体内容，不应该表示实体数量，对应于 DO 类名也是单数形式，符合表达习惯。</p> <ol start="4"><li><p>禁用保留字，如 desc、 range、 match、 delayed 等， 请参考 MySQL 官方保留字。</p></li> <li><p>主键索引名为 pk_字段名；唯一索引名为 uk_字段名； 普通索引名则为 idx_字段名。</p></li></ol> <p>说明： pk_ 即 primary key； uk_ 即 unique key； idx_ 即 index 的简称。</p> <ol start="6"><li>小数类型为 decimal，禁止使用 float 和 double。</li></ol> <p>说明： 在存储的时候， float 和 double 都存在精度损失的问题，很可能在比较值的时候，得到不正确的结果。如果存储的数据范围超过 decimal 的范围，建议将数据拆成整数和小数并分开存储。</p> <ol start="7"><li><p>如果存储的字符串长度几乎相等，使用 char 定长字符串类型。</p></li> <li><p>varchar 是可变长字符串，不预先分配存储空间，长度不要超过 5000，如果存储长度大于此值，定义字段类型为 text，独立出来一张表，用主键来对应，避免影响其它字段索引效率。</p></li> <li><p>表必备三字段： id, create_time, update_time。</p></li></ol> <p>说明： 其中 id 必为主键，类型为 bigint unsigned、单表时自增、步长为 1。 create_time, update_time的类型均为 datetime 类型，前者现在时表示主动式创建，后者过去分词表示被动式更新。</p> <p>注意：更新数据表记录时，必须同时更新记录对应的 update_time 字段值为当前时间。</p> <ol start="10"><li>表的命名最好是遵循“业务名称_表的作用” 。</li></ol> <p>正例：book_info / book_chapter / user_bookshelf / user_comment / author_info</p> <ol start="11"><li><p>库名与应用名称尽量一致。</p></li> <li><p>如果修改字段含义或对字段表示的状态追加时，需要及时更新字段注释。</p></li> <li><p>字段允许适当冗余，以提高查询性能，但必须考虑数据一致。冗余字段应遵循：</p> <ul><li>不是频繁修改的字段。</li> <li>不是唯一索引的字段。</li> <li>不是 varchar 超长字段，更不能是 text 字段。</li></ul></li></ol> <p>正例： 各业务线经常冗余存储小说名称，避免查询时需要连表（单体应用）或跨服务（微服务应用）获取。</p> <ol start="14"><li>单表行数超过 500 万行或者单表容量超过 2GB，才推荐进行分库分表。</li></ol> <p>说明： 如果预计三年后的数据量根本达不到这个级别，请不要在创建表时就分库分表。</p> <ol start="15"><li>合适的字符存储长度，不但节约数据库表空间、节约索引存储，更重要的是提升检索速度。</li></ol> <p>正例： 无符号值可以避免误存负数， 且扩大了表示范围。</p> <ol start="16"><li>业务上具有唯一特性的字段，即使是组合字段，也必须建成唯一索引。</li></ol> <p>说明： 不要以为唯一索引影响了 insert 速度，这个速度损耗可以忽略，但提高查找速度是明显的； 另外，即使在应用层做了非常完善的校验控制，只要没有唯一索引，根据墨菲定律，必然有脏数据产生。</p> <ol start="17"><li>超过三个表禁止 join。需要 join 的字段，数据类型保持绝对一致； 多表关联查询时，保证被关联的字段需要有索引。</li></ol> <p>说明： 即使双表 join 也要注意表索引、 SQL 性能。</p> <ol start="18"><li>在 varchar 字段上建立索引时，必须指定索引长度，没必要对全字段建立索引，根据实际文本区分度决定索引长度。</li></ol> <p>说明： 索引的长度与区分度是一对矛盾体，一般对字符串类型数据，长度为 20 的索引，区分度会高达 90%以上，可以使用 count(distinct left(列名, 索引长度))/count(*)的区分度来确定。</p> <ol start="19"><li><p>创建索引时避免有如下极端误解：</p> <ul><li>索引宁滥勿缺。 认为一个查询就需要建一个索引。</li> <li>吝啬索引的创建。 认为索引会消耗空间、 严重拖慢记录的更新以及行的新增速度。</li> <li>抵制惟一索引。 认为惟一索引一律需要在应用层通过“先查后插” 方式解决。</li></ul></li></ol> <h2 id="数据库建模工具"><a href="#数据库建模工具" class="header-anchor">#</a> 数据库建模工具</h2> <p>本项目使用PDManer对数据库进行设计、版本管理等。</p> <h3 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h3> <p>PDManer 元数建模，是一款多操作系统开源免费的桌面版关系数据库模型建模工具，基于 ES6 + React + Electron + Java 构建，相对于 PowerDesigner，他具备界面简洁美观，操作简单，上手容易等特点。支持 Windows, Mac, Linux 等操作系统，也能够支持国产操作系统，能够支持的数据库如下：</p> <ul><li>MySQL, PostgreSQL, Oracle, SQLServer等常见数据库</li> <li>支持达梦，GuassDB 等国产数据库</li> <li>支持 Hive，MaxCompute 等大数据方向的数据库</li> <li>用户还可以自行添加更多的数据库扩展</li></ul> <h3 id="主要功能"><a href="#主要功能" class="header-anchor">#</a> 主要功能</h3> <p><strong>数据表管理：</strong>  数据表，字段，注释，索引等基本功能。<br> <strong>视图管理：</strong> 实现选择多张表多个字段后，组合一个新的视图对象，视图可生成 DDL 以及相关程序代码，例如 Java 的 DTO 等。<br> <strong>ER关系图：</strong> 数据表可绘制ER关系图至画布，也支持概念模型等高阶抽像设计。<br> <strong>数据字典：</strong> 代码映射表管理，例如 1 表示男，2 表示女，并且实现数据字典与数据表字段的关联。<br> <strong>数据类型：</strong> 系统实现了基础数据类型，基础数据类型在不同数据库下表现为不同数据库类型的方言，这是实现多数据**库支持的基础，为更贴近业务，引入了PowerDesigner的数据域这一概念，用于统一同一类具有同样业务属性字段的批量设置类型，长度等。基础数据类型以及数据域，用户均可自行添加，自行定义。<br> <strong>多数据库：</strong> 内置主流常见数据库，如 MySQL，PostgreSQL，SQLServer，Oracle等，并且支持用户自行添加新的数据库。<br> <strong>代码生成：</strong> 内置 Java，Mybatis，MyBatisPlus 等常规情况下 Controller，Service，Mapper 的生成，也添加了 C# 语言支持，可自行扩展对其他语言的支持，如Python 等。<br> <strong>版本管理：</strong> 实现数据表的版本管理，可生成增量DDL脚本。<br> <strong>生态对接：</strong> 能够导入PowerDesigner的pdm文件，老版本的PDMan文件，也能导出为word文档，导出相关设置等。</p> <h3 id="软件下载"><a href="#软件下载" class="header-anchor">#</a> 软件下载</h3> <p><a href="https://gitee.com/robergroup/pdmaner/releases" target="_blank" rel="noopener noreferrer">https://gitee.com/robergroup/pdmaner/releases<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="系统功能概要"><a href="#系统功能概要" class="header-anchor">#</a> 系统功能概要</h2> <ul><li><p>前台门户系统</p> <ul><li><strong>首页：</strong> 轮播图、本周推荐、热门推荐、精品推荐、点击榜单、新书榜单、更新榜单、最新新闻、友情链接、反馈留言</li> <li><strong>新闻模块：</strong> 新闻分类、新闻列表、新闻阅读</li> <li><strong>小说检索：</strong> 根据书名、作者名等关键词和作品频道、分类、是否完结、字数、更新方式等筛选条件检索小说</li> <li><strong>小说详情页：</strong> 小说信息展示、作家信息展示、最新章节概要、最新评论、评论发表、加入书架、同类推荐</li> <li><strong>小说评论页：</strong> 小说评论区，评论展示、发表评论</li> <li><strong>小说目录页：</strong> 小说目录展示</li> <li><strong>小说内容页：</strong> 小说章节订阅、小说内容阅读、小说段落评论</li> <li><strong>排行榜：</strong> 点击榜、更新榜、新书榜、评论榜</li> <li><strong>充值：</strong> 支付宝/微信购买虚拟币</li> <li><strong>会员中心：</strong> 登录注册、账号信息、账号设置、书架、阅读历史、书评、充值/消费记录、用户反馈</li></ul></li> <li><p>作家后台管理系统</p> <ul><li><strong>作家申请：</strong> 获取邀请码、作家信息提交</li> <li><strong>小说管理：</strong> 小说发布、章节管理、薪酬查询、作品信息</li> <li><strong>稿费收入：</strong> 订阅明细、稿费汇总</li></ul></li> <li><p>平台后台管理系统</p> <ul><li><strong>系统管理：</strong> 用户管理、角色管理、权限管理、菜单管理</li> <li><strong>首页管理：</strong> 小说推荐管理、新闻发布管理、友情链接管理</li> <li><strong>会员管理：</strong> 网站会员管理、反馈管理、评论管理</li> <li><strong>作家管理：</strong> 作家邀请码管理、作家信息管理</li> <li><strong>小说管理：</strong> 小说管理、小说章节管理</li> <li><strong>订单管理：</strong> 充值订单、订阅订单</li> <li><strong>统计报表：</strong> 会员、作家、小说、交易等数据的统计报表</li></ul></li></ul> <h2 id="数据库关系图"><a href="#数据库关系图" class="header-anchor">#</a> 数据库关系图</h2> <h3 id="首页模块"><a href="#首页模块" class="header-anchor">#</a> 首页模块</h3> <p><img src="/img/er/home-ER.png" alt="首页模块ER图"></p> <h3 id="新闻模块"><a href="#新闻模块" class="header-anchor">#</a> 新闻模块</h3> <p><img src="/img/er/news-ER.png" alt="新闻模块ER图"></p> <h3 id="小说模块"><a href="#小说模块" class="header-anchor">#</a> 小说模块</h3> <p><img src="/img/er/book-ER.png" alt="小说模块ER图"></p> <h3 id="用户模块"><a href="#用户模块" class="header-anchor">#</a> 用户模块</h3> <p><img src="/img/er/user-ER.png" alt="用户模块ER图"></p> <h3 id="作家模块"><a href="#作家模块" class="header-anchor">#</a> 作家模块</h3> <p><img src="/img/er/author-ER.png" alt="作家模块ER图"></p> <h3 id="支付模块"><a href="#支付模块" class="header-anchor">#</a> 支付模块</h3> <p><img src="/img/er/pay-ER.png" alt="作家模块ER图"></p> <h3 id="系统模块"><a href="#系统模块" class="header-anchor">#</a> 系统模块</h3> <p><img src="/img/er/sys-ER.png" alt="系统模块ER图"></p> <h2 id="数据库表结构"><a href="#数据库表结构" class="header-anchor">#</a> 数据库表结构</h2> <h3 id="首页模块-2"><a href="#首页模块-2" class="header-anchor">#</a> 首页模块</h3> <p><strong>home_book [<strong>首页小说推荐</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td></td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>type</td> <td>推荐类型</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td>0-轮播图 1-顶部栏 2-本周强推 3-热门推荐 4-精品推荐</td></tr> <tr><td>3</td> <td>sort</td> <td>推荐排序</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>book_id</td> <td>推荐小说ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>5</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>6</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>home_friend_link [<strong>友情链接</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td></td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>link_name</td> <td>链接名</td> <td>VARCHAR(50)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>link_url</td> <td>链接url</td> <td>VARCHAR(100)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>sort</td> <td>排序号</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>11</td> <td></td></tr> <tr><td>5</td> <td>is_open</td> <td>是否开启</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>1</td> <td>0-不开启 1-开启</td></tr> <tr><td>6</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>7</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <h3 id="新闻模块-2"><a href="#新闻模块-2" class="header-anchor">#</a> 新闻模块</h3> <p><strong>news_category [<strong>新闻类别</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td></td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>name</td> <td>类别名</td> <td>VARCHAR(20)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>sort</td> <td>排序</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>10</td> <td></td></tr> <tr><td>4</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>5</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>news_info [<strong>新闻信息</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>category_id</td> <td>类别ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>category_name</td> <td>类别名</td> <td>VARCHAR(50)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>source_name</td> <td>新闻来源</td> <td>VARCHAR(50)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>5</td> <td>title</td> <td>新闻标题</td> <td>VARCHAR(100)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>6</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>7</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>news_content [<strong>新闻内容</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>news_id</td> <td>新闻ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>content</td> <td>新闻内容</td> <td>MEDIUMTEXT</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>5</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <h3 id="小说模块-2"><a href="#小说模块-2" class="header-anchor">#</a> 小说模块</h3> <p><strong>book_category [<strong>小说类别</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td></td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>work_direction</td> <td>作品方向</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td>0-男频 1-女频</td></tr> <tr><td>3</td> <td>name</td> <td>类别名</td> <td>VARCHAR(20)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>sort</td> <td>排序</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>10</td> <td></td></tr> <tr><td>5</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>6</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>book_info [<strong>小说信息</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>work_direction</td> <td>作品方向</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td>0-男频 1-女频</td></tr> <tr><td>3</td> <td>category_id</td> <td>类别ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>category_name</td> <td>类别名</td> <td>VARCHAR(50)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>5</td> <td>pic_url</td> <td>小说封面地址</td> <td>VARCHAR(200)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>6</td> <td>book_name</td> <td>小说名</td> <td>VARCHAR(50)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>7</td> <td>author_id</td> <td>作家id</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>8</td> <td>author_name</td> <td>作家名</td> <td>VARCHAR(50)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>9</td> <td>book_desc</td> <td>书籍描述</td> <td>VARCHAR(2000)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>10</td> <td>score</td> <td>评分</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td>总分:10 ，真实评分 = score/10</td></tr> <tr><td>11</td> <td>book_status</td> <td>书籍状态</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>0-连载中 1-已完结</td></tr> <tr><td>12</td> <td>visit_count</td> <td>点击量</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td>103</td> <td></td></tr> <tr><td>13</td> <td>word_count</td> <td>总字数</td> <td>INT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td></td></tr> <tr><td>14</td> <td>comment_count</td> <td>评论数</td> <td>INT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td></td></tr> <tr><td>15</td> <td>last_chapter_id</td> <td>最新章节ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>16</td> <td>last_chapter_name</td> <td>最新章节名</td> <td>VARCHAR(50)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>17</td> <td>last_chapter_update_time</td> <td>最新章节更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>18</td> <td>is_vip</td> <td>是否收费</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>1-收费 0-免费</td></tr> <tr><td>19</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>20</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td>√</td> <td></td> <td></td></tr></tbody></table> <p><strong>book_chapter [<strong>小说章节</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td></td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>book_id</td> <td>小说ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>chapter_num</td> <td>章节号</td> <td>SMALLINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>chapter_name</td> <td>章节名</td> <td>VARCHAR(100)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>5</td> <td>word_count</td> <td>章节字数</td> <td>INT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>6</td> <td>is_vip</td> <td>是否收费</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>1-收费 0-免费</td></tr> <tr><td>7</td> <td>create_time</td> <td></td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>8</td> <td>update_time</td> <td></td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>book_content [<strong>小说内容</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>chapter_id</td> <td>章节ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>content</td> <td>小说章节内容</td> <td>MEDIUMTEXT</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>create_time</td> <td></td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>5</td> <td>update_time</td> <td></td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>book_comment [<strong>小说评论</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>book_id</td> <td>评论小说ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>user_id</td> <td>评论用户ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>comment_content</td> <td>评价内容</td> <td>VARCHAR(512)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>5</td> <td>reply_count</td> <td>回复数量</td> <td>INT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td></td></tr> <tr><td>6</td> <td>audit_status</td> <td>审核状态</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>0-待审核 1-审核通过 2-审核不通过</td></tr> <tr><td>7</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>8</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>book_comment_reply [<strong>小说评论回复</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>comment_id</td> <td>评论ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>user_id</td> <td>回复用户ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>reply_content</td> <td>回复内容</td> <td>VARCHAR(512)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>5</td> <td>audit_status</td> <td>审核状态</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>0-待审核 1-审核通过 2-审核不通过</td></tr> <tr><td>6</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>7</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <h3 id="用户模块-2"><a href="#用户模块-2" class="header-anchor">#</a> 用户模块</h3> <p><strong>user_info [<strong>用户信息</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td></td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>username</td> <td>登录名</td> <td>VARCHAR(50)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>password</td> <td>登录密码-加密</td> <td>VARCHAR(100)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>salt</td> <td>加密盐值</td> <td>VARCHAR(8)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>5</td> <td>nick_name</td> <td>昵称</td> <td>VARCHAR(50)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>6</td> <td>user_photo</td> <td>用户头像</td> <td>VARCHAR(100)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>7</td> <td>user_sex</td> <td>用户性别</td> <td>TINYINT UNSIGNED</td> <td></td> <td></td> <td></td> <td>0-男 1-女</td></tr> <tr><td>8</td> <td>account_balance</td> <td>账户余额</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td></td></tr> <tr><td>9</td> <td>status</td> <td>用户状态</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>0-正常</td></tr> <tr><td>10</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>11</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td>√</td> <td></td> <td></td></tr></tbody></table> <p><strong>user_feedback [<strong>用户反馈</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td></td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>user_id</td> <td>反馈用户id</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>content</td> <td>反馈内容</td> <td>VARCHAR(512)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>5</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>user_bookshelf [<strong>用户书架</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>user_id</td> <td>用户ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>book_id</td> <td>小说ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>pre_content_id</td> <td>上一次阅读的章节内容表ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>5</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>6</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>user_read_history [<strong>用户阅读历史</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>user_id</td> <td>用户ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>book_id</td> <td>小说ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>pre_content_id</td> <td>上一次阅读的章节内容表ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>5</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>6</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>user_consume_log [<strong>用户消费记录</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>user_id</td> <td>消费用户ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>amount</td> <td>消费使用的金额</td> <td>INT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td>单位：屋币</td></tr> <tr><td>4</td> <td>product_type</td> <td>消费商品类型</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>0-小说VIP章节</td></tr> <tr><td>5</td> <td>product_id</td> <td>消费的的商品ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td></td> <td></td> <td>例如：章节ID</td></tr> <tr><td>6</td> <td>produc_name</td> <td>消费的的商品名</td> <td>VARCHAR(50)</td> <td></td> <td></td> <td></td> <td>例如：章节名</td></tr> <tr><td>7</td> <td>produc_value</td> <td>消费的的商品值</td> <td>INT UNSIGNED</td> <td></td> <td></td> <td></td> <td>例如：1</td></tr> <tr><td>8</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>9</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>user_pay_log [<strong>用户充值记录</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td></td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>user_id</td> <td>充值用户ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>pay_channel</td> <td>充值方式</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>1</td> <td>0-支付宝 1-微信</td></tr> <tr><td>4</td> <td>out_trade_no</td> <td>商户订单号</td> <td>VARCHAR(64)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>5</td> <td>amount</td> <td>充值金额</td> <td>INT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td>单位：分</td></tr> <tr><td>6</td> <td>product_type</td> <td>充值商品类型</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>0-屋币 1-包年VIP</td></tr> <tr><td>7</td> <td>product_id</td> <td>充值商品ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>8</td> <td>product_name</td> <td>充值商品名</td> <td>VARCHAR(255)</td> <td></td> <td>√</td> <td></td> <td>示例值：屋币</td></tr> <tr><td>9</td> <td>product_value</td> <td>充值商品值</td> <td>INT UNSIGNED</td> <td></td> <td></td> <td></td> <td>示例值：255</td></tr> <tr><td>10</td> <td>pay_time</td> <td>充值时间</td> <td>DATETIME</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>11</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>12</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <h3 id="作家模块-2"><a href="#作家模块-2" class="header-anchor">#</a> 作家模块</h3> <p><strong>author_code [<strong>作家邀请码</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>invite_code</td> <td>邀请码</td> <td>VARCHAR(100)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>validity_time</td> <td>有效时间</td> <td>DATETIME</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>is_used</td> <td>是否使用过</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>0-未使用 1-使用过</td></tr> <tr><td>5</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>6</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>author_info [<strong>作者信息</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>user_id</td> <td>用户ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>invite_code</td> <td>邀请码</td> <td>VARCHAR(20)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>pen_name</td> <td>笔名</td> <td>VARCHAR(20)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>5</td> <td>tel_phone</td> <td>手机号码</td> <td>VARCHAR(20)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>6</td> <td>chat_account</td> <td>QQ或微信账号</td> <td>VARCHAR(50)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>7</td> <td>email</td> <td>电子邮箱</td> <td>VARCHAR(50)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>8</td> <td>work_direction</td> <td>作品方向</td> <td>TINYINT UNSIGNED</td> <td></td> <td></td> <td></td> <td>0-男频 1-女频</td></tr> <tr><td>9</td> <td>status</td> <td>0：正常</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>1-封禁</td></tr> <tr><td>10</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>11</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>author_income [<strong>稿费收入统计</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>author_id</td> <td>作家ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>book_id</td> <td>小说ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>income_month</td> <td>收入月份</td> <td>DATE</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>5</td> <td>pre_tax_income</td> <td>税前收入</td> <td>INT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>单位：分</td></tr> <tr><td>6</td> <td>after_tax_income</td> <td>税后收入</td> <td>INT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>单位：分</td></tr> <tr><td>7</td> <td>pay_status</td> <td>支付状态</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>0-待支付 1-已支付</td></tr> <tr><td>8</td> <td>confirm_status</td> <td>稿费确认状态</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>0-待确认 1-已确认</td></tr> <tr><td>9</td> <td>detail</td> <td>详情</td> <td>VARCHAR(255)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>10</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>11</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>author_income_detail [<strong>稿费收入明细统计</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>author_id</td> <td>作家ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>book_id</td> <td>小说ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>0表示全部作品</td></tr> <tr><td>4</td> <td>income_date</td> <td>收入日期</td> <td>DATE</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>5</td> <td>income_account</td> <td>订阅总额</td> <td>INT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td></td></tr> <tr><td>6</td> <td>income_count</td> <td>订阅次数</td> <td>INT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td></td></tr> <tr><td>7</td> <td>income_number</td> <td>订阅人数</td> <td>INT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td></td></tr> <tr><td>8</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>9</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <h3 id="支付模块-2"><a href="#支付模块-2" class="header-anchor">#</a> 支付模块</h3> <p><strong>pay_alipay [<strong>支付宝支付</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>out_trade_no</td> <td>商户订单号</td> <td>VARCHAR(64)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>trade_no</td> <td>支付宝交易号</td> <td>VARCHAR(64)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>buyer_id</td> <td>买家支付宝账号 ID</td> <td>VARCHAR(16)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>5</td> <td>trade_status</td> <td>交易状态</td> <td>VARCHAR(32)</td> <td></td> <td></td> <td></td> <td>TRADE_SUCCESS-交易成功</td></tr> <tr><td>6</td> <td>total_amount</td> <td>订单金额</td> <td>INT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td>单位：分</td></tr> <tr><td>7</td> <td>receipt_amount</td> <td>实收金额</td> <td>INT UNSIGNED</td> <td></td> <td></td> <td></td> <td>单位：分</td></tr> <tr><td>8</td> <td>invoice_amount</td> <td>开票金额</td> <td>INT UNSIGNED</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>9</td> <td>gmt_create</td> <td>交易创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>10</td> <td>gmt_payment</td> <td>交易付款时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>11</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>12</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>pay_wechat [<strong>微信支付</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td>主键</td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>out_trade_no</td> <td>商户订单号</td> <td>VARCHAR(32)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>transaction_id</td> <td>微信支付订单号</td> <td>VARCHAR(32)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>trade_type</td> <td>交易类型</td> <td>VARCHAR(16)</td> <td></td> <td></td> <td></td> <td>JSAPI-公众号支付 NATIVE-扫码支付 APP-APP支付 MICROPAY-付款码支付 MWEB-H5支付 FACEPAY-刷脸支付</td></tr> <tr><td>5</td> <td>trade_state</td> <td>交易状态</td> <td>VARCHAR(32)</td> <td></td> <td></td> <td></td> <td>SUCCESS-支付成功 REFUND-转入退款 NOTPAY-未支付 CLOSED-已关闭 REVOKED-已撤销（付款码支付） USERPAYING-用户支付中（付款码支付） PAYERROR-支付失败(其他原因，如银行返回失败)</td></tr> <tr><td>6</td> <td>trade_state_desc</td> <td>交易状态描述</td> <td>VARCHAR(255)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>7</td> <td>amount</td> <td>订单总金额</td> <td>INT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td>单位：分</td></tr> <tr><td>8</td> <td>payer_total</td> <td>用户支付金额</td> <td>INT UNSIGNED</td> <td></td> <td></td> <td></td> <td>单位：分</td></tr> <tr><td>9</td> <td>success_time</td> <td>支付完成时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>10</td> <td>payer_openid</td> <td>支付者用户标识</td> <td>VARCHAR(128)</td> <td></td> <td></td> <td></td> <td>用户在直连商户appid下的唯一标识</td></tr> <tr><td>11</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>12</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <h3 id="系统模块-2"><a href="#系统模块-2" class="header-anchor">#</a> 系统模块</h3> <p><strong>sys_user [<strong>系统用户</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td></td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>username</td> <td>用户名</td> <td>VARCHAR(50)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>password</td> <td>密码</td> <td>VARCHAR(50)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>name</td> <td>真实姓名</td> <td>VARCHAR(100)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>5</td> <td>sex</td> <td>性别</td> <td>TINYINT UNSIGNED</td> <td></td> <td></td> <td></td> <td>0-男 1-女</td></tr> <tr><td>6</td> <td>birth</td> <td>出身日期</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>7</td> <td>email</td> <td>邮箱</td> <td>VARCHAR(100)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>8</td> <td>mobile</td> <td>手机号</td> <td>VARCHAR(100)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>9</td> <td>status</td> <td>状态</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td>1</td> <td>0-禁用 1-正常</td></tr> <tr><td>10</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>11</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>sys_role [<strong>角色</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td></td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>role_name</td> <td>角色名称</td> <td>VARCHAR(100)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>role_sign</td> <td>角色标识</td> <td>VARCHAR(100)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>4</td> <td>remark</td> <td>备注</td> <td>VARCHAR(100)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>5</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>6</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>sys_user_role [<strong>用户与角色对应关系</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td></td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>user_id</td> <td>用户ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>role_id</td> <td>角色ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>5</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>sys_menu [<strong>系统菜单</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td></td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>parent_id</td> <td>父菜单ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td>0</td> <td>一级菜单为0</td></tr> <tr><td>3</td> <td>name</td> <td>菜单名称</td> <td>VARCHAR(50)</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>url</td> <td>菜单URL</td> <td>VARCHAR(200)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>5</td> <td>type</td> <td>类型</td> <td>TINYINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td>0-目录  1-菜单</td></tr> <tr><td>6</td> <td>icon</td> <td>菜单图标</td> <td>VARCHAR(50)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>7</td> <td>sort</td> <td>排序</td> <td>TINYINT UNSIGNED</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>8</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>9</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>sys_role_menu [<strong>角色与菜单对应关系</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td></td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>role_id</td> <td>角色ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>3</td> <td>menu_id</td> <td>菜单ID</td> <td>BIGINT UNSIGNED</td> <td></td> <td>√</td> <td></td> <td></td></tr> <tr><td>4</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>5</td> <td>update_time</td> <td>更新时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table> <p><strong>sys_log [<strong>系统日志</strong>]</strong></p> <table><thead><tr><th><strong>#</strong></th> <th><strong>字段</strong></th> <th><strong>名称</strong></th> <th><strong>数据类型</strong></th> <th><strong>主键</strong></th> <th><strong>非空</strong></th> <th><strong>默认值</strong></th> <th><strong>备注说明</strong></th></tr></thead> <tbody><tr><td>1</td> <td>id</td> <td></td> <td>BIGINT UNSIGNED</td> <td>√</td> <td>√</td> <td></td> <td></td></tr> <tr><td>2</td> <td>user_id</td> <td>用户id</td> <td>BIGINT UNSIGNED</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>3</td> <td>username</td> <td>用户名</td> <td>VARCHAR(50)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>4</td> <td>operation</td> <td>用户操作</td> <td>VARCHAR(50)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>5</td> <td>time</td> <td>响应时间</td> <td>INT UNSIGNED</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>6</td> <td>method</td> <td>请求方法</td> <td>VARCHAR(200)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>7</td> <td>params</td> <td>请求参数</td> <td>VARCHAR(5000)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>8</td> <td>ip</td> <td>IP地址</td> <td>VARCHAR(64)</td> <td></td> <td></td> <td></td> <td></td></tr> <tr><td>9</td> <td>create_time</td> <td>创建时间</td> <td>DATETIME</td> <td></td> <td></td> <td></td> <td></td></tr></tbody></table></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">3 months ago</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/course/novel/2.html" class="prev">
        技术要点
      </a></span> <span class="next"><a href="/course/novel/4.html">
        项目开发
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div><div></div></div></div>
    <script src="/assets/js/app.09e306c7.js" defer></script><script src="/assets/js/2.99247de7.js" defer></script><script src="/assets/js/13.c749534f.js" defer></script>
  </body>
</html>
