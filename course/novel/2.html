<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æŠ€æœ¯è¦ç‚¹ | å°è¯´ç²¾å“å±‹</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script crossorigin="anonymous" async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7927582798443371"></script>
    <script src="/redirect.js"></script>
    <meta name="description" content="å°è¯´ç²¾å“å±‹é¡¹ç›®å¼€å‘æ–‡æ¡£,JAVAå­¦ä¹ æ•™ç¨‹,JAVAå¼€æºé¡¹ç›®,JAVAé¡¹ç›®å®æˆ˜æ•™ç¨‹,æ‰‹æŠŠæ‰‹æ•™ä½ å¼€å‘ä¸Šçº¿ä¸€ä¸ªç”Ÿäº§çº§åˆ«çš„å°è¯´ç³»ç»Ÿ">
    
    <link rel="preload" href="/assets/css/0.styles.f109e9b6.css" as="style"><link rel="preload" href="/assets/js/app.09e306c7.js" as="script"><link rel="preload" href="/assets/js/2.99247de7.js" as="script"><link rel="preload" href="/assets/js/12.8b56d8ab.js" as="script"><link rel="prefetch" href="/assets/js/10.0074f0b6.js"><link rel="prefetch" href="/assets/js/11.a30c50a6.js"><link rel="prefetch" href="/assets/js/13.c749534f.js"><link rel="prefetch" href="/assets/js/14.d3b12aa4.js"><link rel="prefetch" href="/assets/js/15.74294d9c.js"><link rel="prefetch" href="/assets/js/16.6da0ac7a.js"><link rel="prefetch" href="/assets/js/17.1ab88373.js"><link rel="prefetch" href="/assets/js/18.8875335c.js"><link rel="prefetch" href="/assets/js/19.4939c52f.js"><link rel="prefetch" href="/assets/js/20.34025d9d.js"><link rel="prefetch" href="/assets/js/21.7cce32ee.js"><link rel="prefetch" href="/assets/js/22.11440c86.js"><link rel="prefetch" href="/assets/js/23.e192cd17.js"><link rel="prefetch" href="/assets/js/24.45216f10.js"><link rel="prefetch" href="/assets/js/25.3be12542.js"><link rel="prefetch" href="/assets/js/26.4fbe7fce.js"><link rel="prefetch" href="/assets/js/27.ba19a09d.js"><link rel="prefetch" href="/assets/js/28.8fee7490.js"><link rel="prefetch" href="/assets/js/29.1393ab46.js"><link rel="prefetch" href="/assets/js/3.d1f014c5.js"><link rel="prefetch" href="/assets/js/30.d7fe8f4e.js"><link rel="prefetch" href="/assets/js/31.3e268b35.js"><link rel="prefetch" href="/assets/js/4.c866ff58.js"><link rel="prefetch" href="/assets/js/5.1dabba3b.js"><link rel="prefetch" href="/assets/js/6.2b9e04ea.js"><link rel="prefetch" href="/assets/js/7.da8e9de0.js"><link rel="prefetch" href="/assets/js/8.f14eb728.js"><link rel="prefetch" href="/assets/js/9.89a7523c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f109e9b6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="å°è¯´ç²¾å“å±‹" class="logo"> <span class="site-name can-hide">å°è¯´ç²¾å“å±‹</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="http://47.106.243.172:8888" target="_blank" rel="noopener noreferrer" class="nav-link external">
  åœ¨çº¿æ¼”ç¤º
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://developer.aliyun.com/ebook/read/394" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å¼€å‘è§„çº¦
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.xxyopen.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æŠ€æœ¯åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Project Menu" class="dropdown-title"><span class="title">é¡¹ç›®å®æˆ˜</span> <span class="arrow down"></span></button> <button type="button" aria-label="Project Menu" class="mobile-dropdown-title"><span class="title">é¡¹ç›®å®æˆ˜</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/course/novel/" class="nav-link router-link-active">
  novel
</a></li><li class="dropdown-item"><!----> <a href="/course/novelcloud.html" class="nav-link">
  novel-cloud
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Log Menu" class="dropdown-title"><span class="title">æ›´æ–°æ—¥å¿—</span> <span class="arrow down"></span></button> <button type="button" aria-label="Log Menu" class="mobile-dropdown-title"><span class="title">æ›´æ–°æ—¥å¿—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/log/novel.html" class="nav-link">
  novel
</a></li><li class="dropdown-item"><!----> <a href="/log/novelcloud.html" class="nav-link">
  novel-cloud
</a></li></ul></div></div><div class="nav-item"><a href="/suport/" class="nav-link">
  ğŸ’–æ”¯æŒ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub Menu" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub Menu" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/201206030/novel" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/201206030/novel-plus" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/201206030/novel-cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Gitee Menu" class="dropdown-title"><span class="title">ç äº‘</span> <span class="arrow down"></span></button> <button type="button" aria-label="Gitee Menu" class="mobile-dropdown-title"><span class="title">ç äº‘</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/novel_dev_team/novel" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/novel_dev_team/novel-plus" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/novel_dev_team/novel-cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="http://47.106.243.172:8888" target="_blank" rel="noopener noreferrer" class="nav-link external">
  åœ¨çº¿æ¼”ç¤º
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://developer.aliyun.com/ebook/read/394" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å¼€å‘è§„çº¦
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.xxyopen.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æŠ€æœ¯åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Project Menu" class="dropdown-title"><span class="title">é¡¹ç›®å®æˆ˜</span> <span class="arrow down"></span></button> <button type="button" aria-label="Project Menu" class="mobile-dropdown-title"><span class="title">é¡¹ç›®å®æˆ˜</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/course/novel/" class="nav-link router-link-active">
  novel
</a></li><li class="dropdown-item"><!----> <a href="/course/novelcloud.html" class="nav-link">
  novel-cloud
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Log Menu" class="dropdown-title"><span class="title">æ›´æ–°æ—¥å¿—</span> <span class="arrow down"></span></button> <button type="button" aria-label="Log Menu" class="mobile-dropdown-title"><span class="title">æ›´æ–°æ—¥å¿—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/log/novel.html" class="nav-link">
  novel
</a></li><li class="dropdown-item"><!----> <a href="/log/novelcloud.html" class="nav-link">
  novel-cloud
</a></li></ul></div></div><div class="nav-item"><a href="/suport/" class="nav-link">
  ğŸ’–æ”¯æŒ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub Menu" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub Menu" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/201206030/novel" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/201206030/novel-plus" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/201206030/novel-cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Gitee Menu" class="dropdown-title"><span class="title">ç äº‘</span> <span class="arrow down"></span></button> <button type="button" aria-label="Gitee Menu" class="mobile-dropdown-title"><span class="title">ç äº‘</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/novel_dev_team/novel" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/novel_dev_team/novel-plus" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-plus
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/novel_dev_team/novel-cloud" target="_blank" rel="noopener noreferrer" class="nav-link external">
  novel-cloud
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/course/novel/" aria-current="page" class="sidebar-link">å¿«é€Ÿå¼€å§‹</a></li><li><a href="/course/novel/11.html" class="sidebar-link">å…¬ä¼—å·</a></li><li><a href="/course/novel/1.html" class="sidebar-link">æŠ€æœ¯æ¶æ„</a></li><li><a href="/course/novel/2.html" aria-current="page" class="active sidebar-link">æŠ€æœ¯è¦ç‚¹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/course/novel/2.html#mysql-æ–°ç‰¹æ€§" class="sidebar-link">MySQL æ–°ç‰¹æ€§</a></li><li class="sidebar-sub-header"><a href="/course/novel/2.html#jdk-æ–°ç‰¹æ€§" class="sidebar-link">JDK æ–°ç‰¹æ€§</a></li><li class="sidebar-sub-header"><a href="/course/novel/2.html#springboot-æ–°ç‰¹æ€§" class="sidebar-link">SpringBoot æ–°ç‰¹æ€§</a></li><li class="sidebar-sub-header"><a href="/course/novel/2.html#å…¨æ–°çš„-elasticsearch-java-api-client" class="sidebar-link">å…¨æ–°çš„ Elasticsearch Java API Client</a></li></ul></li><li><a href="/course/novel/3.html" class="sidebar-link">æ•°æ®åº“è®¾è®¡</a></li><li><a href="/course/novel/4.html" class="sidebar-link">é¡¹ç›®å¼€å‘</a></li><li><a href="/course/novel/9.html" class="sidebar-link">é¡¹ç›®ä¼˜åŒ–</a></li><li><a href="/course/novel/6.html" class="sidebar-link">é¡¹ç›®éƒ¨ç½²</a></li><li><a href="/course/novel/12.html" class="sidebar-link">æ›´å¤š</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="æŠ€æœ¯è¦ç‚¹"><a href="#æŠ€æœ¯è¦ç‚¹" class="header-anchor">#</a> æŠ€æœ¯è¦ç‚¹</h1> <h2 id="mysql-æ–°ç‰¹æ€§"><a href="#mysql-æ–°ç‰¹æ€§" class="header-anchor">#</a> MySQL æ–°ç‰¹æ€§</h2> <ol><li><p><code>æ–°å¢ JSON æ•°æ®ç±»å‹</code></p> <p>åœ¨ 5.7.8 ç‰ˆæœ¬ä¹‹åï¼ŒMySQL æ–°å¢äº†ä¸€ä¸ªåŸç”Ÿçš„ JSON æ•°æ®ç±»å‹ï¼ŒJSON å€¼å°†ä¸å†ä»¥å­—ç¬¦ä¸²çš„å½¢å¼å­˜å‚¨ï¼Œè€Œæ˜¯é‡‡ç”¨ä¸€ç§å…è®¸å¿«é€Ÿè¯»å–æ–‡æœ¬å…ƒç´ ï¼ˆdocument elementsï¼‰çš„å†…éƒ¨äºŒè¿›åˆ¶ï¼ˆinternal binaryï¼‰æ ¼å¼ï¼›åœ¨ JSON åˆ—æ’å…¥æˆ–è€…æ›´æ–°çš„æ—¶å€™å°†ä¼šè‡ªåŠ¨éªŒè¯ JSON æ–‡æœ¬ï¼Œæœªé€šè¿‡éªŒè¯çš„æ–‡æœ¬å°†äº§ç”Ÿä¸€ä¸ªé”™è¯¯ä¿¡æ¯ã€‚</p> <p>ä¹‹å‰å¦‚æœè¦å­˜å‚¨ JSON ç±»å‹çš„æ•°æ®çš„è¯æˆ‘ä»¬åªèƒ½è‡ªå·±åš JSON.stringify() å’Œ JSON.parse() çš„æ“ä½œï¼Œè€Œä¸”æ²¡åŠæ³•é’ˆå¯¹ JSON å†…çš„æ•°æ®è¿›è¡ŒæŸ¥è¯¢æ“ä½œï¼Œæ‰€æœ‰çš„æ“ä½œå¿…é¡»è¯»å–å‡ºæ¥ parse ä¹‹åè¿›è¡Œï¼Œéå¸¸çš„éº»çƒ¦ã€‚åŸç”Ÿçš„ JSON æ•°æ®ç±»å‹æ”¯æŒä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥å¯¹ JSON è¿›è¡Œæ•°æ®æŸ¥è¯¢å’Œä¿®æ”¹ç­‰æ“ä½œäº†ï¼Œè¾ƒä¹‹å‰ä¼šæ–¹ä¾¿éå¸¸å¤šã€‚</p> <p>MySQL 8 å¤§å¹…æ”¹è¿›äº†å¯¹ JSON çš„æ”¯æŒï¼Œåœ¨ä¸»ä»å¤åˆ¶ä¸­ï¼Œæ–°å¢å‚æ•° binlog_row_value_optionsï¼Œæ§åˆ¶ JSON æ•°æ®çš„ä¼ è¾“æ–¹å¼ï¼Œå…è®¸å¯¹äº JSON ç±»å‹éƒ¨åˆ†ä¿®æ”¹ï¼Œåœ¨binlogä¸­åªè®°å½•ä¿®æ”¹çš„éƒ¨åˆ†ï¼Œå‡å°‘JSONå¤§æ•°æ®åœ¨åªæœ‰å°‘é‡ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼Œå¯¹èµ„æºçš„å ç”¨ã€‚</p></li> <li><p><code>é»˜è®¤å­—ç¬¦é›†ç”± latin1 å˜ä¸º utf8mb4</code></p> <p>åœ¨ MySQL 8.0 ç‰ˆæœ¬ä¹‹å‰ï¼Œé»˜è®¤å­—ç¬¦é›†ä¸º latin1ï¼Œutf8 æŒ‡å‘çš„æ˜¯ utf8mb3ï¼Œ8.0ç‰ˆæœ¬é»˜è®¤å­—ç¬¦é›†ä¸º utf8mb4ï¼Œutf8 é»˜è®¤æŒ‡å‘çš„ä¹Ÿæ˜¯ utf8mb4ã€‚</p></li> <li><p><code>MyISAM ç³»ç»Ÿè¡¨å…¨éƒ¨æ¢æˆ InnoDB è¡¨</code></p> <p>MySQL 8.0 ç‰ˆæœ¬ä¹‹åç³»ç»Ÿè¡¨å…¨éƒ¨æ¢æˆäº†äº‹åŠ¡å‹çš„ Innodb è¡¨ï¼Œé»˜è®¤çš„ MySQL å®ä¾‹å°†ä¸åŒ…å«ä»»ä½• MyISAM è¡¨ï¼Œé™¤éæ‰‹åŠ¨åˆ›å»º MyISAM è¡¨ã€‚</p></li> <li><p><code>è‡ªå¢å˜é‡æŒä¹…åŒ–</code></p> <p>åœ¨ MySQL 8.0 ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè‡ªå¢ä¸»é”® AUTO_INCREMENT çš„å€¼å¦‚æœå¤§äº max(primary key)+1ï¼Œåœ¨ MySQL é‡å¯åï¼Œä¼šé‡ç½® AUTO_INCREMENT=max(primary key)+1ï¼Œè¿™ç§ç°è±¡åœ¨æŸäº›æƒ…å†µä¸‹ä¼šå¯¼è‡´ä¸šåŠ¡ä¸»é”®å†²çªæˆ–è€…å…¶ä»–éš¾ä»¥å‘ç°çš„é—®é¢˜ã€‚</p></li> <li><p><code>DDL åŸå­åŒ–</code></p> <p>MySQL 8.0 ç‰ˆæœ¬ä¹‹å InnoDB è¡¨çš„ DDL æ”¯æŒäº‹åŠ¡å®Œæ•´æ€§ï¼Œè¦ä¹ˆæˆåŠŸè¦ä¹ˆå›æ»šï¼Œä¾‹å¦‚ï¼Œæ•°æ®åº“é‡Œåªæœ‰ä¸€ä¸ªt1è¡¨ï¼Œæ‰§è¡Œ<code>drop table t1,t2</code>è¯­å¥è¯•å›¾åˆ é™¤t1,t2ä¸¤å¼ è¡¨ï¼Œåœ¨ 5.7 ä¸­ï¼Œæ‰§è¡ŒæŠ¥é”™ï¼Œä½†æ˜¯ t1 è¡¨è¢«åˆ é™¤ï¼Œåœ¨ 8.0 ä¸­æ‰§è¡ŒæŠ¥é”™ï¼Œä½†æ˜¯ t1 è¡¨æ²¡æœ‰è¢«åˆ é™¤ï¼Œè¯æ˜äº† 8.0 DDLæ“ä½œçš„åŸå­æ€§ï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥å›æ»šã€‚</p></li> <li><p><code>å‚æ•°ä¿®æ”¹æŒä¹…åŒ–</code></p> <p>MySQL 8.0 ç‰ˆæœ¬æ”¯æŒåœ¨çº¿ä¿®æ”¹å…¨å±€å‚æ•°å¹¶æŒä¹…åŒ–ï¼Œé€šè¿‡åŠ ä¸Š PERSIST å…³é”®å­—ï¼Œå¯ä»¥å°†ä¿®æ”¹çš„å‚æ•°æŒä¹…åŒ–åˆ°æ–°çš„é…ç½®æ–‡ä»¶ï¼ˆmysqld-auto.cnfï¼‰ä¸­ï¼Œé‡å¯ MySQL æ—¶ï¼Œå¯ä»¥ä»è¯¥é…ç½®æ–‡ä»¶è·å–åˆ°æœ€æ–°çš„é…ç½®å‚æ•°ã€‚</p></li> <li><p><code>group by ä¸å†éšå¼æ’åº</code></p> <p>MySQL 8.0 å¯¹äºgroup by å­—æ®µä¸å†éšå¼æ’åºï¼Œå¦‚éœ€è¦æ’åºï¼Œå¿…é¡»æ˜¾å¼åŠ ä¸Š order by å­å¥ã€‚</p></li> <li><p><code>æ”¯æŒä¸å¯è§ç´¢å¼•</code></p> <p>MySQL 8.0 æ”¯æŒä¸å¯è§ç´¢å¼•ï¼Œ ä½¿ç”¨INVISIBLEå…³é”®å­—åœ¨åˆ›å»ºè¡¨æˆ–è€…è¿›è¡Œè¡¨å˜æ›´ä¸­è®¾ç½®ç´¢å¼•æ˜¯å¦å¯è§ï¼Œç´¢å¼•ä¸å¯è§åªæ˜¯åœ¨æŸ¥è¯¢æ—¶ä¼˜åŒ–å™¨ä¸ä½¿ç”¨è¯¥ç´¢å¼•ï¼Œå³ä½¿ä½¿ç”¨ force indexï¼Œä¼˜åŒ–å™¨ä¹Ÿä¸ä¼šä½¿ç”¨è¯¥ç´¢å¼•ï¼ŒåŒæ—¶ä¼˜åŒ–å™¨ä¹Ÿä¸ä¼šæŠ¥ç´¢å¼•ä¸å­˜åœ¨çš„é”™è¯¯ï¼Œå› ä¸ºç´¢å¼•ä»ç„¶çœŸå®å­˜åœ¨ï¼Œåœ¨å¿…è¦æ—¶ï¼Œä¹Ÿå¯ä»¥å¿«é€Ÿçš„æ¢å¤æˆå¯è§ã€‚</p></li> <li><p><code>æ–°å¢ innodb_dedicated_server å‚æ•°</code></p> <p>MySQL 8.0 æ–°å¢ innodb_dedicated_server å‚æ•°ï¼Œèƒ½å¤Ÿè®©InnoDBæ ¹æ®æœåŠ¡å™¨ä¸Šæ£€æµ‹åˆ°çš„å†…å­˜å¤§å°è‡ªåŠ¨é…ç½® innodb_buffer_pool_sizeï¼Œinnodb_log_file_sizeï¼Œinnodb_flush_method ä¸‰ä¸ªå‚æ•°ã€‚</p></li> <li><p><code>å¢åŠ è§’è‰²ç®¡ç†</code></p> <p>MySQL 8.0 å¢åŠ è§’è‰²ç®¡ç†ï¼Œé€šå¸¸ï¼ŒMySQL æ•°æ®åº“æ‹¥æœ‰å¤šä¸ªç›¸åŒæƒé™é›†åˆçš„ç”¨æˆ·ã€‚ä»¥å‰ï¼Œå‘å¤šä¸ªç”¨æˆ·æˆäºˆå’Œæ’¤é”€æƒé™çš„å”¯ä¸€æ–¹æ³•æ˜¯å•ç‹¬æ›´æ”¹æ¯ä¸ªç”¨æˆ·çš„æƒé™ï¼Œå‡å¦‚ç”¨æˆ·æ•°é‡æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œè¿™æ˜¯éå¸¸è€—æ—¶çš„ï¼Œä¸ºäº†ç”¨æˆ·æƒé™ç®¡ç†æ›´å®¹æ˜“ï¼ŒMySQL æä¾›äº†ä¸€ä¸ªåä¸º role çš„æ–°å¯¹è±¡ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‘½åçš„ç‰¹æƒé›†åˆã€‚</p></li> <li><p><code>å…‹éš†åŠŸèƒ½</code></p> <p>MySQL 8.0 clone æ’ä»¶æä¾›ä»ä¸€ä¸ªå®ä¾‹å…‹éš†æ•°æ®çš„åŠŸèƒ½ï¼Œå…‹éš†åŠŸèƒ½æä¾›äº†æ›´æœ‰æ•ˆçš„æ–¹å¼æ¥å¿«é€Ÿåˆ›å»ºMySQLå®ä¾‹ï¼Œç”¨äºè‡ªåŠ¨æ­å»ºä»èŠ‚ç‚¹ï¼Œä¹Ÿå¯ç”¨äºå¤‡ä»½ innodb è¡¨ï¼Œå¢å¼ºäº† MySQL InnoDB Clusterã€‚</p> <p>åœ¨ MySQL å…‹éš†åŠŸèƒ½å‡ºç°ä¹‹å‰ï¼Œå¦‚æœæƒ³å°†ä¸€ä¸ªå•æœºMySQLå®ä¾‹å‡çº§ä¸ºé«˜å¯ç”¨å®ä¾‹ï¼Œæˆ–è€…ä¸€ä¸ª MySQL èŠ‚ç‚¹ç”±äºç¡¬ä»¶æ•…éšœç­‰åŸå› éœ€è¦é‡å»ºæ—¶é¦–å…ˆéœ€è¦é€šè¿‡ xtrabackup æˆ–mydumper ç­‰ç‰©ç†æˆ–é€»è¾‘å¤‡ä»½å·¥å…·ä»æ­£å¸¸çš„ MySQL èŠ‚ç‚¹ä¸Šè¿›è¡Œä¸€ä¸ªå…¨é‡å¤‡ä»½ï¼Œç„¶ååŸºäºè¿™ä¸ªå…¨é‡å¤‡ä»½é…ç½®æ­£ç¡®çš„ Binlog ç›¸å…³å‚æ•°ï¼Œæœ€åé€šè¿‡ change master to å’Œ start slave ç­‰å‘½ä»¤ä½¿æ–°å»ºçš„ MySQL èŠ‚ç‚¹ä¸æ‰€éœ€çš„ MySQL èŠ‚ç‚¹å»ºç«‹å¤åˆ¶å…³ç³»ç­‰å¾…ä¸€ç³»åˆ—å¤æ‚çš„æ“ä½œã€‚</p></li> <li><p><code>binlog æ—¥å¿—å‹ç¼©</code></p> <p>MySQL ä» 8.0.20 å¢åŠ äº† binlog æ—¥å¿—äº‹åŠ¡å‹ç¼©åŠŸèƒ½ï¼Œå¼€å¯å‹ç¼©åŠŸèƒ½åï¼Œå°†äº‹åŠ¡ä¿¡æ¯ä½¿ç”¨ zstd ç®—æ³•è¿›è¡Œå‹ç¼©ï¼Œç„¶åå†å†™å…¥ binlog æ—¥å¿—æ–‡ä»¶ï¼Œé™ä½äº†åŸæ–‡ä»¶å ç”¨çš„ç£ç›˜ç©ºé—´å’Œç½‘ç»œå¸¦å®½ä¼ è¾“ã€‚</p></li> <li><p><code>è¿æ¥ç®¡ç†</code></p> <p>åœ¨ MySQL 8.0 ç‰ˆæœ¬ä¸­ï¼Œå¯¹è¿æ¥ç®¡ç†è¿™ä¸€å—ï¼Œå…ˆååšäº†ä¸¤ä¸ªæ¯”è¾ƒå¤§çš„æ”¹å˜ï¼šä¸€ä¸ªæ˜¯å…è®¸é¢å¤–è¿æ¥ï¼Œå¦ä¸€ä¸ªæ˜¯ä¸“ç”¨çš„ç®¡ç†ç«¯å£ã€‚åœ¨ MySQL 8.0 ç‰ˆæœ¬ä¸­ï¼Œåœ¨å½“å‰è¿æ¥æ•°è¾¾åˆ°æœ€å¤§è¿æ¥æ•°æ—¶ï¼ŒæœåŠ¡ç«¯å…è®¸1ä¸ªé¢å¤–è¿æ¥ï¼Œå¯ä»¥è®©å…·æœ‰ CONNECTION_ADMIN æƒé™çš„ç”¨æˆ·è¿æ¥è¿›æ¥ï¼Œå¹¶ä¸”å…è®¸å…·æœ‰ SERVICE_CONNECTION_ADMIN æƒé™çš„ç”¨æˆ·ï¼Œé€šè¿‡ç‰¹å®šçš„ IP å’Œ PORT è¿æ¥ä¸Šæ¥ï¼Œä¸”æ²¡æœ‰è¿æ¥æ•°é™åˆ¶ã€‚</p></li> <li><p><code>å–æ¶ˆ Query Cache</code></p> <p>MySQL 8.0 å¼€å§‹ï¼Œå–æ¶ˆäº†æŸ¥è¯¢ç¼“å­˜ï¼Œç»è¿‡æ—¶é—´çš„è€ƒéªŒï¼ŒMySQL çš„å·¥ç¨‹å›¢é˜Ÿå‘ç°å¯ç”¨ç¼“å­˜çš„å¥½å¤„å¹¶ä¸å¤šã€‚</p> <p>é¦–å…ˆï¼ŒæŸ¥è¯¢ç¼“å­˜çš„æ•ˆæœå–å†³äºç¼“å­˜çš„å‘½ä¸­ç‡ï¼Œåªæœ‰å‘½ä¸­ç¼“å­˜çš„æŸ¥è¯¢æ•ˆæœæ‰èƒ½æœ‰æ”¹å–„ï¼Œå› æ­¤æ— æ³•é¢„æµ‹å…¶æ€§èƒ½ï¼›å…¶æ¬¡ï¼ŒæŸ¥è¯¢ç¼“å­˜çš„å¦ä¸€ä¸ªå¤§é—®é¢˜æ˜¯å®ƒå—åˆ°å•ä¸ªäº’æ–¥é”çš„ä¿æŠ¤ï¼Œåœ¨å…·æœ‰å¤šä¸ªå†…æ ¸çš„æœåŠ¡å™¨ä¸Šï¼Œå¤§é‡æŸ¥è¯¢ä¼šå¯¼è‡´å¤§é‡çš„äº’æ–¥é”äº‰ç”¨ï¼›æœ€åï¼Œç›¸å¯¹æ¥è¯´ï¼Œç¼“å­˜è¶Šé è¿‘å®¢æˆ·ç«¯ï¼Œè·å¾—çš„å¥½å¤„è¶Šå¤§ã€‚</p></li> <li><p><code>å…è®¸ç¦ç”¨ redo log</code></p> <p>MySQL 8.0.21 å¼€å§‹å¯ä»¥ç¦ç”¨ redo log æ¥æå‡æ•°æ®åº“çš„å†™æ€§èƒ½ï¼Œä½†é™ä½äº†å®‰å…¨æ€§ï¼Œé€‚ç”¨äºæŸäº›å¯¹å®‰å…¨è¦æ±‚è¾ƒä½çš„åœºæ™¯ã€‚</p></li></ol> <h2 id="jdk-æ–°ç‰¹æ€§"><a href="#jdk-æ–°ç‰¹æ€§" class="header-anchor">#</a> JDK æ–°ç‰¹æ€§</h2> <ol><li><p><code>å¼•å…¥æ¨¡å—</code></p> <p>Java 9 å¼€å§‹å¼•å…¥äº†æ¨¡å—ï¼ˆModuleï¼‰ï¼Œç›®çš„æ˜¯ä¸ºäº†ç®¡ç†ä¾èµ–ã€‚ä½¿ç”¨æ¨¡å—å¯ä»¥æŒ‰éœ€æ‰“åŒ… JRE å’Œè¿›ä¸€æ­¥é™åˆ¶ç±»çš„è®¿é—®æƒé™ã€‚</p></li> <li><p><code>æ¥å£æ”¯æŒç§æœ‰æ–¹æ³•</code></p> <p>JAVA 9 å¼€å§‹ï¼Œæ¥å£é‡Œå¯ä»¥æ·»åŠ ç§æœ‰æ–¹æ³•ï¼ŒJAVA 8 å¯¹æ¥å£å¢åŠ äº†é»˜è®¤æ–¹æ³•çš„æ”¯æŒï¼Œåœ¨ JAVA 9 ä¸­å¯¹è¯¥åŠŸèƒ½åˆæ¥äº†ä¸€æ¬¡å‡çº§ï¼Œç°åœ¨å¯ä»¥åœ¨æ¥å£é‡Œå®šä¹‰ç§æœ‰æ–¹æ³•ï¼Œç„¶ååœ¨é»˜è®¤æ–¹æ³•é‡Œè°ƒç”¨æ¥å£çš„ç§æœ‰æ–¹æ³•ã€‚è¿™æ ·ä¸€æ¥ï¼Œæ—¢å¯ä»¥é‡ç”¨ç§æœ‰æ–¹æ³•é‡Œçš„ä»£ç ï¼Œåˆå¯ä»¥ä¸å…¬å¼€ä»£ç ã€‚</p></li> <li><p><code>åŒ¿åå†…éƒ¨ç±»æ”¯æŒé’»çŸ³ï¼ˆdiamondï¼‰è¿ç®—ç¬¦</code></p> <p>JAVA 5 å°±å¼•å…¥äº†æ³›å‹ï¼ˆgenericï¼‰ï¼Œåˆ°äº† JAVA 7 å¼€å§‹æ”¯æŒé’»çŸ³ï¼ˆdiamondï¼‰è¿ç®—ç¬¦ï¼š&lt;&gt;ï¼Œå¯ä»¥è‡ªåŠ¨æ¨æ–­æ³›å‹çš„ç±»å‹ï¼›ä½†æ˜¯è¿™ä¸ªè‡ªåŠ¨æ¨æ–­ç±»å‹çš„é’»çŸ³è¿ç®—ç¬¦ä¸æ”¯æŒåŒ¿åå†…éƒ¨ç±»ï¼Œåœ¨ JAVA 9 ä¸­ä¹Ÿå¯¹åŒ¿åå†…éƒ¨ç±»åšäº†æ”¯æŒã€‚</p></li> <li><p><code>å¢å¼ºçš„ try-with-resources</code></p> <p>JAVA 7 ä¸­å¢åŠ äº†try-with-resourcesçš„æ”¯æŒï¼Œå¯ä»¥è‡ªåŠ¨å…³é—­èµ„æºï¼Œä½†éœ€è¦å£°æ˜å¤šä¸ªèµ„æºå˜é‡æ—¶ï¼Œéœ€è¦åœ¨ try ä¸­å†™å¤šä¸ªå˜é‡çš„åˆ›å»ºè¿‡ç¨‹ï¼ŒJAVA 9 ä¸­å¯¹è¿™ä¸ªåŠŸèƒ½è¿›è¡Œäº†å¢å¼ºï¼Œå¯ä»¥å¼•ç”¨ try ä»£ç å—ä¹‹å¤–çš„å˜é‡æ¥è‡ªåŠ¨å…³é—­ã€‚</p></li> <li><p><code>å¼ƒç”¨ new Integer()</code></p> <p>JAVA 9 å¼€å§‹å¼ƒç”¨äº† new Integer() çš„æ–¹å¼æ¥åˆ›å»º Integer å¯¹è±¡ï¼Œæ¨èé€šè¿‡é™æ€å·¥å‚ Integer.valueOf() çš„æ–¹å¼æ¥æ›¿ä»£ï¼Œå…¶å®ƒåŒ…è£…ç±»ç±»ä¼¼ã€‚</p></li> <li><p><code>å±€éƒ¨å˜é‡çš„è‡ªåŠ¨ç±»å‹æ¨æ–­ï¼ˆvarï¼‰</code></p> <p>JAVA 10 å¸¦æ¥äº†ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„è¯­æ³• - varï¼Œå®ƒå¯ä»¥è‡ªåŠ¨æ¨æ–­å±€éƒ¨å˜é‡çš„ç±»å‹ï¼Œä»¥åå†ä¹Ÿä¸ç”¨å†™ç±»å‹äº†ï¼Œä¹Ÿä¸ç”¨é  lombok çš„ var æ³¨è§£å¢å¼ºäº†ï¼Œä¸è¿‡è¿™ä¸ªåªæ˜¯è¯­æ³•ç³–ï¼Œç¼–è¯‘åå˜é‡è¿˜æ˜¯æœ‰ç±»å‹çš„ï¼Œä½¿ç”¨æ—¶è¿˜æ˜¯è€ƒè™‘ä¸‹å¯ç»´æŠ¤æ€§çš„é—®é¢˜ï¼Œä¸ç„¶å†™å¤šäº†å¯å°±æˆ JavaScript é£æ ¼äº†ã€‚</p></li> <li><p><code>Lambda ä¸­çš„è‡ªåŠ¨ç±»å‹æ¨æ–­ï¼ˆvarï¼‰</code></p> <p>JAVA 11 ä¸­å¯¹ Lambda è¯­æ³•ä¹Ÿæ”¯æŒäº† var è¿™ä¸ªè‡ªåŠ¨ç±»å‹æ¨æ–­çš„å˜é‡ï¼Œé€šè¿‡ var å˜é‡è¿˜å¯ä»¥å¢åŠ é¢å¤–çš„æ³¨è§£ã€‚</p></li> <li><p><code>java å‘½ä»¤å¢å¼º</code></p> <p>ä»¥å‰ç¼–è¯‘ä¸€ä¸ª java æ–‡ä»¶æ—¶ï¼Œéœ€è¦å…ˆ javac ç¼–è¯‘ä¸º classï¼Œç„¶åå†ç”¨ java æ‰§è¡Œï¼ŒJAVA 11 ä¹‹åå¯ä»¥ç›´æ¥ä½¿ç”¨ java å‘½ä»¤ã€‚</p></li> <li><p><code>Java Flight Recorder å¼€æº</code></p> <p>ã€ŒJava Flight Recorderã€ æ˜¯ä¸ªéå¸¸å¥½ç”¨çš„è°ƒè¯•è¯Šæ–­å·¥å…·ï¼Œä¸è¿‡ä¹‹å‰æ˜¯åœ¨ Oracle JDK ä¸­ï¼Œ JAVA 11 åå°±å¼€æºäº†ï¼ŒOpenJDK ç°åœ¨ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªåŠŸèƒ½ã€‚</p></li> <li><p><code>æ›´ç®€æ´çš„ switch è¯­æ³•</code></p> <p>JAVA 12 å’Œ 13 åˆ†åˆ«å¢å¼ºäº† switch çš„è¯­æ³•ã€‚</p></li> <li><p><code>instanceof å¢å¼º</code></p> <p>ä¹‹å‰å¤„ç†åŠ¨æ€ç±»å‹ç¢°ä¸Šè¦å¼ºè½¬æ—¶ï¼Œéœ€è¦å…ˆ instanceof åˆ¤æ–­ä¸€ä¸‹ï¼Œç„¶åå†å¼ºè½¬ä¸ºè¯¥ç±»å‹å¤„ç†ï¼ŒJAVA 12 ä¹‹å instanceof æ”¯æŒç›´æ¥ç±»å‹è½¬æ¢äº†ï¼Œä¸éœ€è¦å†æ¥ä¸€æ¬¡é¢å¤–çš„å¼ºè½¬ã€‚</p></li> <li><p><code>æ–‡æœ¬å—ï¼ˆText Blockï¼‰çš„æ”¯æŒ</code></p> <p>JAVA 13 ä¸­å¸®ä½ è§£å†³äº†<code>å¤§æ®µå¸¦æ¢è¡Œç¬¦çš„å­—ç¬¦ä¸²æŠ¥æ–‡</code>çš„é—®é¢˜ï¼Œå¢åŠ äº†æ–‡æœ¬å—ï¼ˆ&quot;&quot;&quot;ï¼‰çš„æ”¯æŒï¼Œå¯ä»¥ä¸é€šè¿‡æ¢è¡Œç¬¦æ¢è¡Œæ‹¼å­—ç¬¦ä¸²ï¼Œè€Œä¸”ä¸éœ€è¦è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼Œå°±åƒç”¨æ¨¡æ¿ä¸€æ ·ã€‚</p></li> <li><p><code>æ–°å¢ record ç±»å‹</code></p> <p>JAVA 14 æ–°å¢ record ç±»å‹ï¼Œå¹²æ‰å¤æ‚çš„ POJO ç±»ï¼Œä¸€èˆ¬æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª POJO ç±»ï¼Œéœ€è¦å®šä¹‰å±æ€§åˆ—è¡¨ï¼Œæ„é€ å‡½æ•°ï¼Œgetter/setteræ–¹æ³•ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼ŒJAVA 14 ä¸ºæˆ‘ä»¬å¸¦æ¥äº†ä¸€ä¸ªä¾¿æ·çš„åˆ›å»ºç±»çš„æ–¹å¼ - recordã€‚</p> <p>ä¸è¿‡è¿™ä¸ªåªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œç¼–è¯‘åè¿˜æ˜¯ä¸€ä¸ª Classï¼Œå’Œæ™®é€šçš„ Class åŒºåˆ«ä¸å¤§ã€‚</p></li> <li><p><code>æ›´ç›´è§‚çš„ NullPointerException æç¤º</code></p> <p>JAVA 14 ä¼˜åŒ–äº† NullPointerException çš„æç¤ºï¼Œè®©ä½ æ›´å®¹æ˜“å®šä½åˆ°å“ªä¸ªå¯¹è±¡ä¸ºç©ºã€‚</p></li> <li><p><code>æ–°å¢ jpackage æ‰“åŒ…å·¥å…·</code></p> <p>JAVA 14 æ–°å¢ jpackage æ‰“åŒ…å·¥å…·ï¼Œå¯ä»¥ç›´æ¥æ‰“åŒ…äºŒè¿›åˆ¶ç¨‹åºï¼Œå†ä¹Ÿä¸ç”¨è£… JRE äº†ã€‚</p> <p>ä¹‹å‰å¦‚æœæƒ³æ„å»ºä¸€ä¸ªå¯æ‰§è¡Œçš„ç¨‹åºï¼Œè¿˜éœ€è¦å€ŸåŠ©ä¸‰æ–¹å·¥å…·ï¼Œå°† JRE ä¸€èµ·æ‰“åŒ…ï¼Œæˆ–è€…è®©å®¢æˆ·ç”µè„‘ä¹Ÿè£…ä¸€ä¸ª JRE æ‰å¯ä»¥è¿è¡Œæˆ‘ä»¬çš„ JAVA ç¨‹åºã€‚</p> <p>ç°åœ¨ JAVA ç›´æ¥å†…ç½®äº† jpackage æ‰“åŒ…å·¥å…·ï¼Œå¸®åŠ©ä½ ä¸€é”®æ‰“åŒ…äºŒè¿›åˆ¶ç¨‹åºåŒ…ã€‚</p></li> <li><p><code>æ–°å¢å°é—­ï¼ˆSealed ï¼‰ç±»</code></p> <p>JAVA çš„ç»§æ‰¿ç›®å‰åªèƒ½é€‰æ‹©å…è®¸ç»§æ‰¿å’Œä¸å…è®¸ç»§æ‰¿ï¼ˆfinal ä¿®é¥°ï¼‰ï¼ŒJAVA 15 æ–°å¢äº†ä¸€ä¸ªå°é—­ï¼ˆSealed ï¼‰ç±»çš„ç‰¹æ€§ï¼Œå¯ä»¥æŒ‡å®šæŸäº›ç±»æ‰å¯ä»¥ç»§æ‰¿ã€‚</p></li> <li><p><code>æ–°å¢åƒåœ¾å›æ”¶å™¨</code></p> <p>JAVA 15 ä¸­ï¼Œä¸¤æ¬¾åƒåœ¾å›æ”¶å™¨ZGC å’Œ Shenandoah æ­£å¼ç™»é™†ï¼ˆé»˜è®¤ G1 ï¼‰ï¼Œæ€§èƒ½æ›´å¼ºï¼Œå»¶è¿Ÿæ›´ä½ã€‚</p></li></ol> <p><strong>æ³¨ï¼šSpring Framework 6 å’Œ Spring Boot 3 çš„åº”ç”¨ç¨‹åºè¿è¡Œæ—¶è‡³å°‘éœ€è¦JDK 17ã€‚</strong></p> <h2 id="springboot-æ–°ç‰¹æ€§"><a href="#springboot-æ–°ç‰¹æ€§" class="header-anchor">#</a> SpringBoot æ–°ç‰¹æ€§</h2> <ol><li><p><code>ä¼˜é›…å…³æœº</code></p> <p>Spring Boot 2.3.0 é…ç½®å…³æœºç¼“å†²æ—¶é—´åï¼Œåœ¨å…³é—­æ—¶ï¼ŒWebæœåŠ¡å™¨å°†ä¸å†å…è®¸æ–°è¯·æ±‚ï¼Œå¹¶ä¸”å°†ç­‰å¾…ç¼“å†²æ—¶é—´ä»¥ä½¿æ´»åŠ¨è¯·æ±‚å®Œæˆã€‚</p> <p>ç›®å‰å†…ç½®çš„å››ä¸ªåµŒå…¥å¼ Web æœåŠ¡å™¨ï¼ˆJettyï¼ŒReactor Nettyï¼ŒTomcatå’ŒUndertowï¼‰ä»¥åŠå“åº”å¼å’ŒåŸºäº Servlet çš„ Web åº”ç”¨ç¨‹åºéƒ½æ”¯æŒä¼˜é›…å…³æœºã€‚</p></li> <li><p><code>Docker æ”¯æŒ</code></p> <p>Spring Boot 2.3.0 æ·»åŠ äº†éƒ¨åˆ†åŠŸèƒ½ç”¨æ¥å¸®åŠ©å°† Spring Boot åº”ç”¨ç›´æ¥æ‰“åŒ…åˆ° Docker é•œåƒã€‚</p> <ul><li><p>æ”¯æŒ Cloud Native Buildpacks æ„å»ºé•œåƒï¼›</p></li> <li><p>maven æ’ä»¶ å¢åŠ  spring-boot:build-image ã€gradle å¢åŠ  bootBuildImage task å¸®åŠ©å¿«é€Ÿæ„å»ºé•œåƒï¼›</p></li> <li><p>æ”¯æŒ jar åˆ†å±‚ï¼Œæ›´å¥½çš„ä¼˜åŒ–æ‰“åŒ…é•œåƒè¿‡ç¨‹ã€‚</p></li></ul></li> <li><p><code>å…¨æ–°çš„é…ç½®æ–‡ä»¶å¤„ç†</code></p> <p>ä½¿ç”¨<code>---</code>åœ¨ä¸€ä¸ª yml æ–‡ä»¶ä¸­åˆ†å‰²å¤šä¸ªé…ç½®ï¼Œå¦‚æœå¯ç”¨å¤šä¸ªé…ç½®ä¸­æœ‰ä¸€æ ·çš„é…ç½®é¡¹ä¼šç›¸äº’è¦†ç›–ï¼Œåœ¨ Spring Boot 2.4.0 ç‰ˆæœ¬ä¸­å£°æ˜åœ¨æœ€åé¢çš„ä¼šè¦†ç›–å‰é¢çš„é…ç½®ã€‚åœ¨ Spring Boot 2.4.0 ä¹‹å‰çš„ç‰ˆæœ¬ä¸­å–å†³äº<code>spring.profiles.active</code>ä¸­å£°æ˜çš„é¡ºåºã€‚</p> <p>Spring Boot 2.4.0 ç‰ˆæœ¬ä¹‹å‰ä½¿ç”¨æ–‡ä»¶å<code>application-{profile}</code>çš„æ–¹å¼æŒ‡å®šé…ç½®æ ‡è¯†ï¼Œä½¿ç”¨<code>spring.profiles.active</code>å¼€å¯é…ç½®ï¼›Spring Boot 2.4.0 ç‰ˆæœ¬çš„ç”¨æ³•æ˜¯ä½¿ç”¨<code>spring.config.activate.on-profile</code>æ¥æŒ‡å®šé…ç½®æ ‡è¯†ï¼Œ<code>spring.profiles.active</code>ä¸èƒ½å’Œå®ƒé…ç½®åœ¨åŒä¸€ä¸ªé…ç½®å—ä¸­ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>spring:
  profiles:
    active: dev
---
spring:
  config:
    activate:
      on-profile: dev
secretï¼šdev-password
</code></pre></div><p>Spring Boot 2.4.0 ç‰ˆæœ¬ä»¥å‰ä½¿ç”¨<code>spring.profiles</code>å’Œ<code>spring.profiles.include</code>é…ç½®ç»„åˆï¼ŒSpring Boot 2.4.0 ç‰ˆæœ¬ä¹‹åï¼Œä½¿ç”¨<code>spring.profiles.group</code>æ¥é…ç½®ç»„åˆã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>spring:
  profiles:
    active:
      - dev
    group:
      dev:
        - devdb
        - devmq
      test:
        - testdb
        - testmq
---
spring:
  config:
    activate:
      on-profile: dev
secret: dev-password
---
spring:
  config:
    activate:
      on-profile: devdb
db: devdb
---
spring:
  config:
    activate:
      on-profile: devmq
mq: devmq        
</code></pre></div></li> <li><p><code>é»˜è®¤ç¦æ­¢å¾ªç¯ä¾èµ–</code></p> <p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå¦‚æœä¸¤ä¸ª Bean äº’ç›¸æ³¨å…¥å¯¹æ–¹å°±ä¼šå­˜åœ¨å¾ªç¯å¼•ç”¨é—®é¢˜ï¼ŒSpring Boot 2.6.0 è¿™ä¸ªç‰ˆæœ¬å·²ç»é»˜è®¤ç¦æ­¢ Bean ä¹‹é—´çš„å¾ªç¯å¼•ç”¨ï¼Œå¦‚æœå­˜åœ¨å¾ªç¯å¼•ç”¨å°±ä¼šå¯åŠ¨å¤±è´¥æŠ¥é”™ã€‚</p></li> <li><p><code>æ”¯æŒè‡ªå®šä¹‰è„±æ•è§„åˆ™</code></p> <p>Spring Boot 2.6.0 ç‰ˆæœ¬å¯ä»¥æ¸…ç† /env å’Œ /configprops ç«¯ç‚¹ä¸­å­˜åœ¨çš„æ•æ„Ÿå€¼ã€‚å¦å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡æ·»åŠ ç±»å‹ä¸º SanitizingFunction çš„ @Bean ç±»æ¥é…ç½®è‡ªå®šä¹‰æ¸…ç†è§„åˆ™ã€‚</p></li> <li><p><code>é‡è¦ç«¯ç‚¹å˜æ›´</code></p> <p>Spring Boot 2.6.0ç‰ˆæœ¬çš„ç¯å¢ƒå˜é‡ /env ç«¯ç‚¹å·²ç»é»˜è®¤ä¸å¼€æ”¾äº†ï¼Œå¦å¤– Spring Boot ä¸‹çš„ /info ç«¯ç‚¹ç°åœ¨å¯ä»¥å…¬å¼€ Java è¿è¡Œæ—¶ä¿¡æ¯äº†ã€‚</p></li> <li><p><code>Redis è¿æ¥æ± </code></p> <p>å½“ commons-pool2 åœ¨ç±»è·¯å¾„ä¸‹æ—¶ï¼ŒRedisï¼ˆåŒ…æ‹¬ï¼šJedis å’Œ Lettuceï¼‰åœ¨ Spring Boot 2.6.0 ä¹‹åçš„ç‰ˆæœ¬ä¼šè‡ªåŠ¨å¼€å¯è¿æ¥æ± ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ç¦ç”¨è¿æ¥æ± ã€‚</p></li> <li><p><code>æœ€ä½ Java è¦æ±‚</code></p> <p>ä»Spring Boot 3.0 å¼€å§‹ï¼ŒJava 17 æ˜¯æœ€ä½ç‰ˆæœ¬ï¼ŒJava 8 ä¸å†è¢«å…¼å®¹ã€‚åˆ°æ­£å¼ç‰ˆå‘è¡Œçš„æ—¶å€™ Java 19 ä¹Ÿåº”è¯¥å‘è¡Œäº†ã€‚</p></li> <li><p><code>Jakarta EE 9</code></p> <p>Spring Boot ä¾èµ–äº Jakarta EEï¼ˆåŸå Java EEï¼‰ è§„èŒƒï¼Œ3.0 å·²ç»å‡çº§åˆ° Jakarta EE 9 ç‰ˆæœ¬ã€‚å› æ­¤ Spring Boot 3.0 ä¼šä½¿ç”¨ Servlet 5.0 è§„èŒƒå’Œ JPA 3.0 è§„èŒƒã€‚ç›¸å…³çš„ä¸‰æ–¹ä¾èµ–å¦‚æœä¸æ”¯æŒè¿™äº›è§„èŒƒï¼Œå°†å‡å°‘æˆ–è€…ç§»é™¤è¿™äº›ä¾èµ–ã€‚æ‰€ä»¥ç›¸å…³çš„ä¸‰æ–¹ä¾èµ–è¯·å°½å¿«æ ¹æ® Jakarta EE 9 è¿›è¡Œç‰ˆæœ¬è¿­ä»£ã€‚åŸºäºè¿™ä¸ªåŸå› ï¼Œç›®å‰ä¸æ”¯æŒJakarta EE 9 çš„ç±»åº“å°†è¢«ç§»é™¤ï¼ŒåŒ…å«äº†ä¸€äº›çŸ¥åä¸‰æ–¹ç±»åº“ï¼Œä¾‹å¦‚ EhCache3ã€Jerseyã€JOOQã€Thymeleaf ç­‰ç­‰ï¼Œç›´åˆ°è¿™äº›ç±»åº“é€‚é… Jakarta EE 9ã€‚</p></li> <li><p><code>å£°æ˜å¼ HTTP å®¢æˆ·ç«¯</code></p> <p>Spring 6ï¼ˆSpring Boot 3ï¼‰ å¼€å§‹æ”¯æŒæ–°çš„å£°æ˜å¼ HTTP å®¢æˆ·ç«¯ã€‚</p></li> <li><p><code>æ–°çš„ @AutoConfiguration ç±»</code></p> <p>Spring Boot 2.7/3 å¼€å§‹ï¼Œ@AutoConfiguration ç±»ç”± <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code>æ–‡ä»¶è€Œä¸å†æ˜¯ <code>META-INF/spring.factories</code> æ–‡ä»¶é…ç½®ã€‚</p></li> <li><p><code>@ConfigurationProperties æ„é€ å‡½æ•°ç»‘å®š</code></p> <p>Spring 6ï¼ˆSpring Boot 3ï¼‰ å¼€å§‹ï¼Œ@ConfigurationProperties ç±»æ”¯æŒæ–°çš„æ„é€ å‡½æ•°ç»‘å®šï¼Œè€Œæ— éœ€æ˜¾å¼ @ConstructorBindingã€‚</p></li></ol> <h2 id="å…¨æ–°çš„-elasticsearch-java-api-client"><a href="#å…¨æ–°çš„-elasticsearch-java-api-client" class="header-anchor">#</a> å…¨æ–°çš„ Elasticsearch Java API Client</h2> <p>Elasticsearch Java API Client æ˜¯è‡ª 7.16 ç‰ˆæœ¬å¼€å§‹ç¨³å®šå‘å¸ƒçš„å®˜æ–¹ Java API å®¢æˆ·ç«¯ã€‚è¯¥å®¢æˆ·ç«¯ä¸ºæ‰€æœ‰ Elasticsearch API æä¾›å¼ºç±»å‹è¯·æ±‚å’Œå“åº”ã€‚ä¸»è¦ç‰¹æ€§å¦‚ä¸‹ï¼š</p> <ul><li>æ‰€æœ‰ Elasticsearch API çš„å¼ºç±»å‹è¯·æ±‚å’Œå“åº”ã€‚</li> <li>æ‰€æœ‰ API çš„é˜»å¡å’Œå¼‚æ­¥ç‰ˆæœ¬ã€‚</li> <li>åœ¨åˆ›å»ºå¤æ‚çš„åµŒå¥—ç»“æ„æ—¶ï¼Œä½¿ç”¨æµåˆ©çš„æ„å»ºå™¨å’ŒåŠŸèƒ½æ¨¡å¼å…è®¸ç¼–å†™ç®€æ´æ˜“è¯»çš„ä»£ç ã€‚</li> <li>é€šè¿‡ä½¿ç”¨å¯¹è±¡æ˜ å°„å™¨ï¼ˆä¾‹å¦‚ Jacksonï¼‰æˆ–ä»»ä½• JSON-B å®ç°æ¥æ— ç¼é›†æˆåº”ç”¨ç¨‹åºç±»ã€‚</li> <li>å°†åè®®å¤„ç†å§”æ‰˜ç»™ http å®¢æˆ·ç«¯ï¼Œä¾‹å¦‚ <a href="https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/8.2/java-rest-low.html" target="_blank" rel="noopener noreferrer">Java Low Level REST Client <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œè¯¥å®¢æˆ·ç«¯è´Ÿè´£å¤„ç†æ‰€æœ‰ä¼ è¾“çº§åˆ«çš„é—®é¢˜ï¼šHTTP è¿æ¥æ± ã€é‡è¯•ã€èŠ‚ç‚¹å‘ç°ç­‰ã€‚</li></ul> <p>Elasticsearch Java API Client æ˜¯ä¸€ä¸ªå…¨æ–°çš„å®¢æˆ·ç«¯åº“ï¼Œä¸æ—§çš„ High Level Rest Client (HLRC) æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚å®ƒæä¾›äº†ä¸€ä¸ªç‹¬ç«‹äº Elasticsearch æœåŠ¡å™¨ä»£ç çš„åº“ï¼Œå¹¶ä¸ºæ‰€æœ‰ Elasticsearch åŠŸèƒ½æä¾›äº†ä¸€ä¸ªéå¸¸ä¸€è‡´ä¸”æ›´æ˜“äºä½¿ç”¨çš„ APIã€‚</p> <h3 id="å®‰è£…è¦æ±‚"><a href="#å®‰è£…è¦æ±‚" class="header-anchor">#</a> å®‰è£…è¦æ±‚</h3> <ul><li>Java 8 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</li> <li>ä¸€ä¸ª JSON å¯¹è±¡æ˜ å°„åº“ï¼Œå…è®¸æˆ‘ä»¬åº”ç”¨ç¨‹åºç±»ä¸ Elasticsearch API æ— ç¼é›†æˆã€‚Java API Client æ”¯æŒ Jackson æˆ– Eclipse Yasson ç­‰ JSON-B åº“ ã€‚</li></ul> <h3 id="å®‰è£…"><a href="#å®‰è£…" class="header-anchor">#</a> å®‰è£…</h3> <p>æ·»åŠ ä»¥ä¸‹çš„ maven ä¾èµ–æ¥å®‰è£… Java API Clientï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;dependencies&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;
      &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;
      &lt;version&gt;8.2.0&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
      &lt;version&gt;2.12.3&lt;/version&gt;
    &lt;/dependency&gt;

  &lt;/dependencies&gt;

</code></pre></div><h3 id="è¿æ¥"><a href="#è¿æ¥" class="header-anchor">#</a> è¿æ¥</h3> <p>Java API Client å›´ç»•ä¸‰ä¸ªä¸»è¦ç»„ä»¶æ„å»ºï¼š</p> <ul><li>API å®¢æˆ·ç«¯ç±»ã€‚å®ƒä»¬ä¸º Elasticsearch API æä¾›å¼ºç±»å‹æ•°æ®ç»“æ„å’Œæ–¹æ³•ã€‚ç”±äº Elasticsearch API å¾ˆå¤§ï¼Œå®ƒä»¥åŠŸèƒ½ç»„ï¼ˆä¹Ÿç§°ä¸ºâ€œå‘½åç©ºé—´â€ï¼‰çš„å½¢å¼æ„æˆï¼Œæ¯ä¸ªç»„éƒ½æœ‰è‡ªå·±çš„å®¢æˆ·ç«¯ç±»ã€‚Elasticsearch æ ¸å¿ƒåŠŸèƒ½åœ¨ ElasticsearchClient ç±»ä¸­å®ç°ã€‚</li> <li>JSON å¯¹è±¡æ˜ å°„å™¨ã€‚å°†åº”ç”¨ç¨‹åºç±»æ˜ å°„åˆ° JSON å¹¶å°†å®ƒä»¬ä¸ API å®¢æˆ·ç«¯æ— ç¼é›†æˆã€‚</li> <li>ä¼ è¾“å±‚å®ç°ã€‚è¿™æ˜¯æ‰€æœ‰ HTTP è¯·æ±‚å¤„ç†å‘ç”Ÿçš„åœ°æ–¹ã€‚</li></ul> <p>ä»¥ä¸‹ä»£ç ç‰‡æ®µåˆ›å»ºå¹¶å°†è¿™ä¸‰ä¸ªç»„ä»¶è¿æ¥åœ¨ä¸€èµ·ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>// 1. Create the low-level client
RestClient restClient = RestClient.builder(
new HttpHost(&quot;localhost&quot;, 9200)).build();

// 2. Create the transport with a Jackson mapper
ElasticsearchTransport transport = new RestClientTransport(
restClient, new JacksonJsonpMapper());

// 3. And create the API client
ElasticsearchClient client = new ElasticsearchClient(transport);
</code></pre></div><h3 id="spring-boot-ä¸­ä½¿ç”¨"><a href="#spring-boot-ä¸­ä½¿ç”¨" class="header-anchor">#</a> Spring Boot ä¸­ä½¿ç”¨</h3> <ol><li>åœ¨é…ç½®æ–‡ä»¶ application.yml ä¸­é…ç½®å¦‚ä¸‹çš„ Elasticsearch è¿æ¥ä¿¡æ¯ï¼š</li></ol> <div class="language- extra-class"><pre class="language-text"><code>spring:
  elasticsearch:
    uris:
      - https://my-deployment-ce7ca3.es.us-central1.gcp.cloud.es.io:9243
    username: elastic
    password: qTjgYVKSuExX
</code></pre></div><ol start="2"><li>å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ Spring Boot é¡¹ç›®ï¼Œå½“æˆ‘ä»¬å¼•å…¥äº† Java API Client çš„ maven ç›¸å…³ä¾èµ–æ—¶ï¼ŒSpring Boot çš„è‡ªåŠ¨é…ç½®ç±» <code>ElasticsearchRestClientAutoConfiguration</code> ç”Ÿæ•ˆï¼Œä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬é…ç½®ä¸€ä¸ª RestClientã€‚æ‰€ä»¥ä¸Šä¸€èŠ‚è¿æ¥ä¸‰æ­¥éª¤çš„ç¬¬ä¸€æ­¥<code>Create the low-level client</code>å¯ä»¥çœç•¥ã€‚</li></ol> <div class="language- extra-class"><pre class="language-text"><code>@AutoConfiguration
@ConditionalOnClass({RestClientBuilder.class})
@EnableConfigurationProperties({ElasticsearchProperties.class, ElasticsearchRestClientProperties.class})
@Import({RestClientBuilderConfiguration.class, RestHighLevelClientConfiguration.class, RestClientFromRestHighLevelClientConfiguration.class, RestClientConfiguration.class, RestClientSnifferConfiguration.class})
public class ElasticsearchRestClientAutoConfiguration {
    public ElasticsearchRestClientAutoConfiguration() {
    }
}
</code></pre></div><ol start="3"><li>æ·»åŠ æˆ‘ä»¬è‡ªå·±çš„ Elasticsearch é…ç½®ç±»ï¼Œé…ç½®ä¸€ä¸ª ElasticsearchClient å¦‚ä¸‹ï¼š</li></ol> <div class="language- extra-class"><pre class="language-text"><code>/**
 * elasticsearch ç›¸å…³é…ç½®
 *
 * @author xiongxiaoyang
 * @date 2022/5/23
 */
@Configuration
@ConditionalOnProperty(prefix = &quot;spring.elasticsearch&quot;, name = &quot;enable&quot;, havingValue = &quot;true&quot;)
@RequiredArgsConstructor
public class EsConfig {

    @Bean
    public ElasticsearchClient elasticsearchClient(RestClient restClient) {

        // Create the transport with a Jackson mapper
        ElasticsearchTransport transport = new RestClientTransport(
                restClient, new JacksonJsonpMapper());

        // And create the API client
        return new ElasticsearchClient(transport);
    }

}
</code></pre></div><h3 id="ä½¿ç”¨ç¤ºä¾‹"><a href="#ä½¿ç”¨ç¤ºä¾‹" class="header-anchor">#</a> ä½¿ç”¨ç¤ºä¾‹</h3> <ol><li>æ‰¹é‡æ’å…¥æ•°æ®</li></ol> <div class="language- extra-class"><pre class="language-text"><code>public void saveToEs() {
        QueryWrapper&lt;BookInfo&gt; queryWrapper = new QueryWrapper&lt;&gt;();
        List&lt;BookInfo&gt; bookInfos;
        long maxId = 0;
        for(;;) {
            queryWrapper.clear();
            queryWrapper
                    .orderByAsc(DatabaseConsts.CommonColumnEnum.ID.getName())
                    .gt(DatabaseConsts.CommonColumnEnum.ID.getName(), maxId)
                    .last(DatabaseConsts.SqlEnum.LIMIT_30.getSql());
            bookInfos = bookInfoMapper.selectList(queryWrapper);
            if (bookInfos.isEmpty()) {
                break;
            }
            BulkRequest.Builder br = new BulkRequest.Builder();

            for (BookInfo book : bookInfos) {
                EsBookDto esBook = buildEsBook(book);
                br.operations(op -&gt; op
                        .index(idx -&gt; idx
                                .index(EsConsts.IndexEnum.BOOK.getName())
                                .id(book.getId().toString())
                                .document(esBook)
                        )
                ).timeout(Time.of(t -&gt; t.time(&quot;10s&quot;)));
                maxId = book.getId();
            }

            BulkResponse result = elasticsearchClient.bulk(br.build());

            // Log errors, if any
            if (result.errors()) {
                log.error(&quot;Bulk had errors&quot;);
                for (BulkResponseItem item : result.items()) {
                    if (item.error() != null) {
                        log.error(item.error().reason());
                    }
                }
            }

        }

    }
</code></pre></div><ol start="2"><li>å…¨æ–‡æ£€ç´¢</li></ol> <div class="language- extra-class"><pre class="language-text"><code>@SneakyThrows
@Override
public RestResp&lt;PageRespDto&lt;BookInfoRespDto&gt;&gt; searchBooks(BookSearchReqDto condition) {

    SearchResponse&lt;EsBookDto&gt; response = esClient.search(s -&gt; {

                SearchRequest.Builder searchBuilder = s.index(EsConsts.IndexEnum.BOOK.getName());
                buildSearchCondition(condition, searchBuilder);
                // æ’åº
                if (!StringUtils.isBlank(condition.getSort())) {
                    searchBuilder.sort(o -&gt;
                            o.field(f -&gt; f.field(condition.getSort()).order(SortOrder.Desc))
                    );
                }
                // åˆ†é¡µ
                searchBuilder.from((condition.getPageNum() - 1) * condition.getPageSize())
                        .size(condition.getPageSize());

                return searchBuilder;
            },
            EsBookDto.class
    );

    TotalHits total = response.hits().total();

    List&lt;BookInfoRespDto&gt; list = new ArrayList&lt;&gt;();
    List&lt;Hit&lt;EsBookDto&gt;&gt; hits = response.hits().hits();
    for (Hit&lt;EsBookDto&gt; hit : hits) {
        EsBookDto book = hit.source();
        list.add(BookInfoRespDto.builder()
                .id(book.getId())
                .bookName(book.getBookName())
                .categoryId(book.getCategoryId())
                .categoryName(book.getCategoryName())
                .authorId(book.getAuthorId())
                .authorName(book.getAuthorName())
                .wordCount(book.getWordCount())
                .lastChapterName(book.getLastChapterName())
                .build());
    }
    return RestResp.ok(PageRespDto.of(condition.getPageNum(), condition.getPageSize(), total.value(), list));

}

/**
 * æ„å»ºæŸ¥è¯¢æ¡ä»¶
 */
private void buildSearchCondition(BookSearchReqDto condition, SearchRequest.Builder searchBuilder) {

    BoolQuery boolQuery = BoolQuery.of(b -&gt; {

        if (!StringUtils.isBlank(condition.getKeyword())) {
            // å…³é”®è¯åŒ¹é…
            b.must((q -&gt; q.multiMatch(t -&gt; t
                    .fields(&quot;bookName^2&quot;,&quot;authorName^1.8&quot;,&quot;bookDesc^0.1&quot;)
                    .query(condition.getKeyword())
            )
            ));
        }

        // ç²¾ç¡®æŸ¥è¯¢
        if (Objects.nonNull(condition.getWorkDirection())) {
            b.must(TermQuery.of(m -&gt; m
                    .field(&quot;workDirection&quot;)
                    .value(condition.getWorkDirection())
            )._toQuery());
        }

        if (Objects.nonNull(condition.getCategoryId())) {
            b.must(TermQuery.of(m -&gt; m
                    .field(&quot;categoryId&quot;)
                    .value(condition.getCategoryId())
            )._toQuery());
        }

        // èŒƒå›´æŸ¥è¯¢
        if (Objects.nonNull(condition.getWordCountMin())) {
            b.must(RangeQuery.of(m -&gt; m
                    .field(&quot;wordCount&quot;)
                    .gte(JsonData.of(condition.getWordCountMin()))
            )._toQuery());
        }

        if (Objects.nonNull(condition.getWordCountMax())) {
            b.must(RangeQuery.of(m -&gt; m
                    .field(&quot;wordCount&quot;)
                    .lt(JsonData.of(condition.getWordCountMax()))
            )._toQuery());
        }

        if (Objects.nonNull(condition.getUpdateTimeMin())) {
            b.must(RangeQuery.of(m -&gt; m
                    .field(&quot;lastChapterUpdateTime&quot;)
                    .gte(JsonData.of(condition.getUpdateTimeMin().getTime()))
            )._toQuery());
        }

        return b;

    });

    searchBuilder.query(q -&gt; q.bool(boolQuery));

}
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">21 days ago</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/course/novel/1.html" class="prev">
        æŠ€æœ¯æ¶æ„
      </a></span> <span class="next"><a href="/course/novel/3.html">
        æ•°æ®åº“è®¾è®¡
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div><div></div></div></div>
    <script src="/assets/js/app.09e306c7.js" defer></script><script src="/assets/js/2.99247de7.js" defer></script><script src="/assets/js/12.8b56d8ab.js" defer></script>
  </body>
</html>
